<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base target="_blank" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <script type="text/javascript">
 
 function goTopEx(){
        var obj=document.getElementById("goTopBtn");
        function getScrollTop(){
                return document.documentElement.scrollTop;
            }
        function setScrollTop(value){
                document.documentElement.scrollTop=value;
            }    
        window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
        obj.onclick=function(){
            var goTop=setInterval(scrollMove,10);
            function scrollMove(){
                    setScrollTop(getScrollTop()/111);
                    if(getScrollTop()<1)clearInterval(goTop);
                }
        }
    }


</script>
<script type="text/javascript">
 
 function goTopEx(){
        var obj=document.getElementById("goTopBtn");
        function getScrollTop(){
                return document.documentElement.scrollTop;
            }
        function setScrollTop(value){
                document.documentElement.scrollTop=value;
            }    
        window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
        obj.onclick=function(){
            var goTop=setInterval(scrollMove,10);
            function scrollMove(){
                    setScrollTop(getScrollTop()/111);
                    if(getScrollTop()<1)clearInterval(goTop);
                }
        }
    }


</script>
<title>块和外部参照</title>

 <style type="text/css">
#tbrowser a:link，.container a:visited{
font-size:18px;
text-decoration:none;
}
.container{
font-size:1.2em;
margin:auto;
font-family:"宋体";
width:75.29%;
line-height:1.4em;
}
P{
margin:8px;
text-indent:2em;
}
.uls{
color:#CC6666;
font-weight:bold;
}
.uls>ol{
list-style:none;
font-weight:normal;
list-style:lower-latin;
color:#000000;
line-height:1.3em;

}
h2{
font-size:20px;
font-weight:bold;
margin-top:15px;
margin-bottom:0px;
text-indent:0em;
}
img{
margin-right:5px;
}
.fc{
color:red;
}

a:link {
	text-decoration: none;
}


a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: none;
}
a:active {
	text-decoration: none;
}


#goTopBtn {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color:#eee;
    color:#000;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 105px;
    _bottom: "auto";
    cursor: pointer;
    opacity: .6;
    filter: Alpha(opacity=30);
	opacity=.3;
}
 #goTopBtn:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 
 
#goBottom {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 30px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
	writing-mode:tb-rl;
}
 #goBottom:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 #shangy {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 80px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
}
#xiay {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 55px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
}
 
 img{
 border:0;
 }
</style>
</head>

<body>

<div class="container">
  <p>图块就是将多个实体组合成一个整体，并给这个整体命名保存，在以后的图形编辑中这个整体就被视为一个实体。一个图块包括可见的实体如线、圆弧、圆、以及可见或不可见的属性数据。图块可以作为图形的一部分储存。例如一张桌子，它由桌面、桌腿、抽屉等组成，如果每次画相同或相似的桌子时都要画桌面、桌腿、抽屉等部分，那么，这工作不仅繁琐，而且重复。如果我们将桌面、桌腿、抽屉等部件组合起来，定义成名为“桌子”的一个图块，那么在以后的绘图中，我们只需将这个图块以不同的比例插入到图形中即可。图块能帮我们更好的组织工作，快速创建与修改图形，减少图形文件的大小。</p>

<p>使用图块，可以创建一个自己经常要使用的符号库，然后以图块的形式插入一个符号，而不是从空白开始重画该符号。创建图块并保存，根据制图需要在不同地方插入一个或多个图块，系统插入的仅仅是一个图块定义的多个引用，这样会大大减小绘图文件大小。同时只要修改图块的定义，图形中所有的图块引用体都会自动更新。如果图块中的实体是画在0 层，且“颜色与线型”两个属性是定义为“随层”，插入后它会被赋予插入层的颜色与线型属性。相反，如果图块中的实体，定义前它是画在非0 层，且“颜色与线型”两个属性不是“随层”的话，插入后它保留原先的颜色与线型属性。当新定义的图块中包括别的图块，这种情况叫嵌套，当想把小的元素链接到更大的集合，且在图形中要插入该集合时，嵌套是很有用的。</p>

<p>块：应用于需重复绘制的图形，定义好可在需要时随时插入，提高效率，节省空间，也便于修改；应用图块可以快速绘制一些外形相似的图形对象，可以将外形相似的图形对象定义为图块，然后根据需要在图形文件中方便、快捷地插入这些图块</p>

<h4>自定义块：</h4>

<p>B（绘图---块---新建；或wblock）---命名B1---基点---对象（选择）---确定（此时在本文档内可插入此块B！）---输出（如果此块B1需给到其它文档调用，需要输出）：文件类型为块文件，命名为B1,保存后，在CAD绘图窗口的命令行，在提示：输入现在块名或：此时要输入B1,此时窗口会一闪，块文件才真正有保存起来，在其他文档才可调用插入(因为在一个文档中可能会有多个内部定义的块，输出的可能是不同的内部定义块，所以要最后确认所要输出的内部定义块名)；</p>

<p>B1可在0图层进行定义；可以在不同的层进行插入，可以按层改变颜色。插入图块一般按插入点，选择图块的方式；</p>

<h4>修改块：be;</h4>


<p>图块属性是定义在图块上的文字信息，可以利用其进行预先的文字的位置，内容和默认值，在插入图块时，可以输入不同的文字信息。以使相同的图块表达不同的信息。定义带属性的图块时，需要将作为图块的图形和标记和标记图块属性的信息都定义为图块。</p>

<p>1自定义属性块：绘制标高形状（总长1,分6等分，用于逐层累计标注建筑物高度）---绘图（菜单）---块---定义属性---标记：标高；提示：输入标高；值：2.5；对齐：右下；高度0.15（标高图形为1长）；---选定“标高”字样和标高形状，如图；---定义块（同上）</p>
<h4>定义属性懎：</h4>
<p>1 绘制定义属性块：</p>

<p>1.1 绘制基本图形；</p>

<p>1.2 定义块属性（绘图-块-定义属性；</p>

<p>1.3 创建块，选定的内容包括基本图形和块属性；</p>

<p>2 修改带属性的块：修改---对象---属性---单个或块属性管理器；块内的字体可设定；块的查看：修改---对象---属性-块属性管理器；</p>

<p>3 一个零件、符号除自身的几何形状外，还包含很多参数和文字说明信息（如规格、型号、技术说明等），中望CAD2007 系统将图块所含的附加信息称为属性，如规格属性、型号属性。而具体的信息内容则称为属性值。可以使用属性来追踪零件号码与价格。属性可为固定值或变量值。插入包含属性的图块时，程序会新增固定值与图块到图面中，并提示要提供变量值。</p>

<p>插入包含属性的图块时，可提取属性信息到独立文件，并使用该信息于空白表格程序或数据库，以产生零件清单或材料价目表。还可使用属性信息来追踪特定图块插入图面的次数。属性可为可见或隐藏，隐藏属性既不显示，亦不出图，但该信息储存于图面中，并在被提取时写入文件。属性是图块的附属物，它必须依赖于图块而存在，没有图块就没有属性。</p>

<h4>动态块</h4>
<p>动态块：用户可以通过自定义夹点或自定义特性来操作动态块参照是的几何图形。可以根据需要在位调整图块。</p>
<p>添加动态块工具：工具---选项板---工具选项板-----在最小化按钮和关闭按钮中间的线条上方的区域右击：选择动态块；</p>
<p>块编辑器是专门用来创建块定义并添加动态行为的编写区域。Be(bedit)</p>

<p>动态块库：工具---面板---在面板的上端（最小化和关闭按钮的中间线）处右击，选择“动态块”。</p>

<h4>使用块：</h4>

<p>1 如果插入的是内部块则直接输入块名即可；如果插入的是外部块则需要给出块文件的路径</p>

<p>2 绘图---点---定数点分（或定距点分）---选择对象---B---B名---是否对齐---输入线段数目（输入线段长度）</p>

<p>3 （当插入块时，可设比例，并改变标高的值；）</p>

<p>4 外部块插入当前图形后，其块定义也同时储存在图形内部，生成同名的内部块，以后可在该图形中随时调用，而无需重新指定外部块文件的路径。</p>

<p>为了使图块在插入当前图形中时能够准确定位，需要给图块指定一个插入基点，以它作为参考点将图块插入到图形中的指定位置，同时，如果图块在插入时需旋转角度，该基点将作为旋转中心。</p>

<p>5 图块在插入时如果选择了插入时炸开图块，插入后图块自动分解成单个的实体，其特性如层、颜色、线型等也将恢复为生成块之前实体具有的特性。</p>

<p>6 插入图块时的注意事项：</p>
<br />

<p>图形单位：插入比例：用于缩放插入内容的单位：英寸或毫米；</p>

<p>插入块：块单位：毫毛或英寸；</p>

<p>二者要一致才可以一比一插入；</p>

<p>7 复制块   选定---右键按住拖动---选择：</p>

<p></p>

<h4>删除块：</h4>

<p>当用Erase 命令删除了图形中插入的图块后，其块定义依然存在，因为它储存在图形文件内部，就算图形中没有调用它，它依然占用磁盘空间，并且随时可以在图形中调用。可用Purge 命令中的“块”选项清除图形文件中无用的、多余的块定义以减小文件的字节。</p>

<p>purge:文件---绘图实用程序---清理；</p>

<p>Block（块定义）、Wblock（写块）、be（编辑块）、i(插入块）；</p>

<p></p>

<p>可以在块编辑器中向块定义中添加动态元素。除几何图形外，动态块中通常包含一个或多个参数和动作。</p>

<p>■ 参数。通过指定块中几何图形的位置、距离和角度来定义动态块的自定义特性。</p>

<p>■ 动作。定义在图形中操作动态块参照时，该块参照中的几何图形将如何移动或修改。向动态块定义中添加动作后，必须将这些动作与参数相关联。也可以指定动作将影响的几何图形选择集。注意参数和动作仅显示在块编辑器中将动态块参照插入到图形中时，将不会显示动态块定义中包含的参数和动作。 </p>
  <p>1 从工具选项板上插入块</p>

<p>2 从块库中插入块</p>

<p>3 可以将现有图形文件中的一个或多个块定义插入到当前图形文件中。从块库图形中检索块时，请选择此方法。块库图形包含具有类似功能的符号的块定义。为了便于访问和管理，这些块定义全部存储在单个的图形文件中。</p>

<p>4 使用设计中心插入块</p>

<p>5 间隔插入块:可以沿着选定的几何对象以一定间隔插入块。</p>

<p>■ 使用MEASURE 以等分间距插入块。</p>

<p>■ 使用DIVIDE 以成比例的间距（均匀间距）插入块。 </p>
  <p>属性是将数据附着到块上的标签或标记。属性中可能包含的数据包括零件编号、价格、注释和物主的名称等等。标记相当于数据库表中的列名。下图显示了类型、制造商、型号和价格的标记。 </p>
  <p>如果已经向块中附着了属性，则可以在一个或多个图形中查询此块属性信息，并将其保存到表或外部文件中。通过提取属性信息可以轻松地直接使用图形数据来生成清单或明细表。例如，简图中可能包含表示办公设备的块。如果每个块都具有标识设备型号和制造商的属性，就可以生成用于估算设备价格的报告。 </p>
  <p>块可以添加到工具选项板（工具-工具选项板）； </p>
  <p>外部块插入当前图形后，其块定义也同时储存在图形内部，生成同名的内部块，以后可在该图形中随时调用，而无需重新指定外部块文件的路径。如果插入的是内部块则直接输入块名即可；如果插入的是外部块则需要给出块文件的路径。 </p>
  <p>属性块的调用命令与普通块的是一样的。只是调用属性块时提示要多一些。</p>

<p>一般人对图块的理解是自己用Block 作图块，用Wblock 写块，这才算图块，其实图形文件也就是*.Dwg 文件都可作图块使用。 </p>

<h4>外部参照</h4>
  <p>外部参照：把已有的图形文件以参照的形式插入到当前图形中；</p>

<p></p>

<p>外部参照与块有相似的地方，但它们的主要区别是：一旦插入了块，该块就永久性地插入到当前图形中，成为当前图形的一部分。而以外部参照方式将图形插入到某一图形(称之为主图形)后，被插入图形文件的信息并不直接加入到主图形中，主图形只是记录参照的关系，例如，参照图形文件的路径等信息。另外，对主图形的操作不会改变外部参照图形文件的内容。当打开具有外部参照的图形时，系统会自动把各外部参照图形文件重新调入内存并在当前图形中显示出来。</p>

<p></p>

<p>在中望CAD 2007 中能够把整个其他图形作为外部参照插入到当前图形中。虽然外部图形插入当前图形，但当前图形对外部参照的文件只有一个链接点。因为外部参照中的实体显示在当前图形中，但实体本身并没有加入当前图形中。因而，链接外部参照并不意味着增加文件量大小。外部参照提供了把整个文件作为图块插入时无法提供的性能。当把整个文件作为图块插入，实体虽然保存在图形中，但原始图形的任何改变都不会在当前图形中反映。不同的是当链接一个外部参照时，原始图形的任何改变都会在当前图形中反映。当每次打开包含外部参照的文件时，改变会自动更新。如果知道外部参照已修改，可以在画图的任何时候重新加载外部参照。从分图汇成总图时，外部参照是非常有用。有外部参照定位在组中用户与其他人的位置。外部参照帮助减少文件量，并确保我们总是工作在图形中最新状态。 </p>
  <p>在一个设计项目中，多个设计人员通过外部参照进行并行设计。即将其他设计人员设计的图形放置在本地的图形上，合并多个设计人员的工作，从而整个设计组所做的设计保持同步。</p>

<p>确保显示参照图形最新版本。当打开图形时，系统自动重新装载每个外部参照。 </p>



  <h4>定义动态块门的操作步骤：</h4>

<p>1 绘制90度门的基本形状，包括两个门槛，一条弧线和一个门框；</p>

<p>2 定义块-并选择在块编辑器中打开；</p>

<p>3 门板阵列：7,-90度；并删除掉16和75度的门板；</p>

<p>4 分别画出60,45,30度位置处的圆弧；</p>

<p>5 选择：可见性参数，并在图形左下的适当位置确定用于选择的显示箭头的位置；</p>

<p>6 选择：管理可见性状态，新建如“打开0度”的包括0,30,45,60,90的5个状态，每个状态都选择“在新状态中隐藏所有现有对象”；</p>

<p>7 定义可见性状态，针对每一个状态（如打开30度），先选择“使不可见”--选择“使可见”--选择需要可见的图形（选择30度的门框、弧、两个门槛）； </p>


  <h4>关于块的单位选择；</h4>

<p>如果打开的是acad.dwt的文档，定义块是默认的尺寸是英寸，如果更改为毫米，则相对对象会缩小25.4倍；</p>

<p>如果打开的是acadiso.dwt的文档，定义块是默认的尺寸是毫米，如果更改为英寸，则相对对象会放大25.4倍； </p>
  <p>&nbsp;</p>
</div>
<a name="bottom" id="bottom"></a>
<DIV style="DISPLAY: none" id=goTopBtn>&and;</DIV>
<div id="goBottom"><a href="#bottom" target="_self">&or;</a></div>
<SCRIPT type=text/javascript>goTopEx();</SCRIPT>
</body>
</html>
<script language="javascript"> 
bg_evensssss("tbrowser","#fff","#F5F5F5","#FFFFCC","#FFDDFF");/*#FFFF84*/
</script>
