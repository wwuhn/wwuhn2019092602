<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
div{
width:80%;
margin:auto;
font-size:16px;
}
table{
border-collapse:collapse;
width:100%;
margin:auto;
}
td{
border:1px solid #888;
}
th{
background-color:#FFCCCC;
background-color:#F9EAF1;
border:#888 solid 1px;
text-align:left;
font-weight:bold;
}
tr>td{
font-weight:normal;
}
tr>td+td{
background-color:white;
font-weight:normal;
}
p{
margin:4px;
text-indent:2em;
}
.table1{
table-layout:fixed;
}
.table1 tr>td+td{
background-color:none;
font-weight:normal;
}
.table1 td{
overflow:hidden;
}
</style>
<title>localSite2</title>
</head>

<body>
<div>
<div style=" margin:0; margin-bottom:6px; font-weight:bold;">动态网站服务器技术</div>
<table class="table1">
<tr><th width="9%"></th>
<th width="21%"><a href="http://localhost:8088" target="_blank">selfRecords</a></th>
<th width="25%"><a href="http://localhost:8086" target="_blank">notes</a></th>
<th width="7%"><a href="http://localhost" target="_blank">apache</a></th>
<th width="25%"><a href="http://localhost:8080" target="_blank">jspSite</a></th>
<th width="13%"><a href="http://localhost:8081" target="_blank">appsite</a></th>
</tr><tr>
  <td>port</td>
  <td>8088</td>
<td>8086</td>
<td>80</td>
<td>8080</td>
<td>8081</td>
</tr><tr>
  <td>物理路径</td>
  <td>..\witiso\21\selfRecords</td>
  <td>..\witiso\21\notes</td>
  <td>&nbsp;</td>
<td>..\21\jspsite\wwu\WebContent</td>
<td>i:\wwuhn\aspsite</td>
</tr>
<tr>
  <td>默认打开</td>
  <td>admin.asp</td>
<td>index.asp</td>
<td>&nbsp;</td>
<td>%siteRoot%\--%workpath%</td>
<td>&nbsp;</td>
</tr>
<tr>
  <td>start</td>
  <td colspan="2">IIS+DM:sitesetup(path,port);DM:diff DSN; </td>
  <td>apache</td>
  <td>JDK+Tomcat安装和配置</td>
  <td>IIS</td>
</tr>
<tr>
  <td>other</td>
  <td colspan="5">1 localhost=127.0.0.1=outside IP；2 每一个server或site都可以进行服务的start,pause,stop；一些sserver可能默认为Manual(stop),需手动重启；3 server配置的更改需要server restart;如果在在提供的工作中无法重启（Apache有这种情况），可以在services.msc中重启服务。</td>
  </tr>
</table>
<br />
<table>
  <tr>
    <th colspan="3">asp:IIS+ASP+DM+Acess</th>
    </tr>
  <tr>
    <td width="21%">IIS</td>
    <td width="69%">Dreamweaver</td>
    <td width="10%">&nbsp;</td>
  </tr>
  <tr>
    <td>new site </td>
    <td>-new site </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>port: </td>
    <td>-url:http://localhost:port(本地编辑和测试)（先有IIS完成站点建立(IP+Port)</td>
    <td>对应一致</td>
  </tr>
  <tr>
    <td>phisical path </td>
    <td>-phisical path </td>
    <td>对应一致</td>
  </tr>
  <tr>
    <td>IIS打开的服务器技术</td>
    <td>服务器技术：asp VBScript </td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>default document </td>
    <td>新建DSN，多个站点对应多个DSN（注册表中存储数据库信息)(可选择OLEDB或ODBC，即写连接字符串）;对于DSN，如果重装OS，还需重建DSN，双击已存在的数据库连接修改，不建议删除重建（需另检查recordset绑定和服务器行为）；</td>
    <td>&nbsp;</td>
  </tr>

</table>
<br />
<table>
  <tr>
    <th colspan="3">JSP:JKD+Apache TomCat+Eclipse+MySQL </th>
    </tr>
  <tr>
    <td>JDK </td>
    <td>&nbsp;</td>
    <td>DevelopmentTool+source code+public JRE(JVM)</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>1 setup path:</td>
    <td>d:\java\jdk</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>2 JRE7的安装路径 </td>
    <td>d:\java\jre7(JRE可单独安装和卸载）</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>3 配置环境变量：</td>
    <td>java_home:D:\java\jdk</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>classPath:.;%java_home%\lib\rt.jar;...tools.jar;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>path:+%java_home%\bin</td>
  </tr>
  <tr>
    <td>TomCat</td>
    <td>&nbsp;</td>
    <td>function:web server+app server </td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>1 %setupPath%</td>
    <td>D:\Program Files\Apache Software Foundation\Tomcat 7.0</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>2 JVM path: </td>
    <td>d:\java\jre7 (安装时匹配，tomcat编译和运行jsp需要JDK） </td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>3 config exefile </td>
    <td>%setupPath%\bin\Tomcat7w.exe（JRE）</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>4 %siteRoot% </td>
    <td>%setupPath%\webapps\ROOT(默认)</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>5 config textfile </td>
    <td>%setupPath%\conf\server.xml(默认port:8080)+web.xml</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;&nbsp;&nbsp;&nbsp;server.xml:</td>
    <td>&lt;Host name=&quot;localhost&quot;...&gt; &lt;Context path=&quot;&quot; docBase=&quot;<strong>%workpath%</strong>&quot; reloadable=&quot;true&quot;&gt;&lt;/Context&gt;&lt;/host&gt;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>添加第二个域名</td>
    <td>1 复制上面的一段文本，更改name(如website) and docBase.;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>2 修改C:\windows\system32\drivers\etc\hosts,
      添加域名：127.0.0.1    localhost</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;&nbsp;&nbsp;&nbsp;web.xml:</td>
    <td>&lt;param-name&gt;listings&lt;/param-name&gt;下的参数false改成true;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;&nbsp;&nbsp;&nbsp;default file</td>
    <td>web.xml:&lt;welcome-file-list&gt;内更改；</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td colspan="2">JSP工作原理：1浏览器请求index.jsp；2 Tomcat的engine翻译.jsp为servlet的.java;3 engine调用Javac编译器编译.java为可执行的字节码.class；4 调用JVM解释执行，生成并发送向浏览器的应答；5 .java和.class文件存储在%setupPath%\work\Catalina\localhost\_\org\apache\jsp下(文件名更改为:index_jsp)</td>
    </tr>
  <tr>
    <td>Eclipse</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>1 <strong>%workpath% </strong></td>
    <td>I:\wwuhn\Website\witiso\21\jspsite</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>2 preferences </td>
    <td>menu:windows-preference-server(JRE)</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>3 new project </td>
    <td>new-project-web:dynamic web site-name:wwu &raquo; target runtime &raquo;tomcat7(&raquo;jre7) &raquo;server &raquo;Root: wwu, dir:webContent（完成后自动生产三个文件夹）；(如果tomcat、JDK重装，路径改变，则项目wwu需重置)；</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>4 new server </td>
    <td>new-others-server:选择apache,并添加项目wwu；</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>5 new jsp </td>
    <td>项目jspsite\webContent下，设置编码：GB2312；&lt;% java.util.Date d = new java.util.Date(); %&gt;&lt;%= d.toString() %&gt;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>6 star server </td>
    <td>在该环境下启动server（TomCat）,需先确保TomCat是“stop”状态；</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>7 临时发布jsp</td>
    <td>jsp右击－run as-run on server; </td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>路径关联：</td>
    <td>JVM path---%siteRoot% ---http://localhost:8080--- %workpath%</td>
  </tr>
</table>
<p>&nbsp;</p>
<table>
  <tr>
    <th>Apache</th>
    <th colspan="2"><span style="font-weight:normal;">只是一个网页服务器,在http://localhost下可以返回html\jsp(jsp代码忽略)(asp不行)返回,不能解释动态代码为html页面给浏览器;</span></th>
    </tr>
  <tr>
    <td>&nbsp;</td>
    <td>config file </td>
    <td>D:\\Apache2.2\conf\httpd</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>Listen 80</td>
    <td>默认端口：80</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>DocumentRoot</td>
    <td>默认：D:\apache2.2\htdocs</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>DocumentRoot &quot;f:\php5&quot;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&lt;Directory   &quot;f:\php5&quot;&gt;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>加入php模块</td>
    <td>LoadModule php5_module f:/php5/php5apache2_2.dll（与apache对应的安装版本对应）<br />
      AddType application/x-httpd-php .php .html .htm（指定执行的程序扩展名。）<br />
      PHPIniDir &quot;f:/php5&quot;（指定PHP的安装目录）</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>虚拟目录</td>
    <td>1 找到以下文本更改：# Alias /webpath /full/filesystem/path,将前面的#去掉，改为以下虚拟目录Alias&amp;nbsp;&amp;nbsp;/Webpath&amp;nbsp;&amp;nbsp;&amp;quotD:/Data&amp;quot(注意符号&quot;/&quot;);</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>2 复制一段&lt;Directory..&gt;...&lt;/Directory&gt;(内有四行文本);改为&lt;Directory d:/data &gt;;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>3 重启apache，浏览器中输入http://localhost/data/即可访问虚拟目录内的默认打开文档。</td>
  </tr>
  <tr>
    <td>PHP</td>
    <td>下载代码包</td>
    <td>php-5.2.17-Win32-VC6-x86，VC9是专门为IIS定制的，VC6 是为了其他WEB服务软件提供的，如 Apache。</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>解压代码包</td>
    <td>将代码包解压至f:\php5；</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>php.ini</td>
    <td>将配置文件改回扩展名.ini;</td>
  </tr>
  <tr>
    <td>mySQL</td>
    <td>下载安装</td>
    <td>安装版（mysql-installer-community-5.5.32.2），解压版；注意分清下载；</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
</table>
</div>
</body>
</html>
