<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base target="_blank" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <script type="text/javascript">
 
 function goTopEx(){
        var obj=document.getElementById("goTopBtn");
        function getScrollTop(){
                return document.documentElement.scrollTop;
            }
        function setScrollTop(value){
                document.documentElement.scrollTop=value;
            }    
        window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
        obj.onclick=function(){
            var goTop=setInterval(scrollMove,10);
            function scrollMove(){
                    setScrollTop(getScrollTop()/111);
                    if(getScrollTop()<1)clearInterval(goTop);
                }
        }
    }


</script>
<script type="text/javascript">
 
 function goTopEx(){
        var obj=document.getElementById("goTopBtn");
        function getScrollTop(){
                return document.documentElement.scrollTop;
            }
        function setScrollTop(value){
                document.documentElement.scrollTop=value;
            }    
        window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
        obj.onclick=function(){
            var goTop=setInterval(scrollMove,10);
            function scrollMove(){
                    setScrollTop(getScrollTop()/111);
                    if(getScrollTop()<1)clearInterval(goTop);
                }
        }
    }


</script>
<title>变量</title>

 <style type="text/css">
#tbrowser a:link，.container a:visited{
font-size:18px;
text-decoration:none;
}
.container{
font-size:1.2em;
margin:auto;
font-family:"宋体";
width:75.29%;
line-height:1.4em;
}
P{
margin:8px;
text-indent:2em;
}
.uls{
color:#CC6666;
font-weight:bold;
}
.uls>ol{
list-style:none;
font-weight:normal;
list-style:lower-latin;
color:#000000;
line-height:1.3em;

}
h2{
font-size:20px;
font-weight:bold;
margin-top:15px;
margin-bottom:0px;
text-indent:0em;
}
img{
margin-right:5px;
}
.fc{
color:red;
}

a:link {
	text-decoration: none;
}


a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: none;
}
a:active {
	text-decoration: none;
}


#goTopBtn {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color:#eee;
    color:#000;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 105px;
    _bottom: "auto";
    cursor: pointer;
    opacity: .6;
    filter: Alpha(opacity=30);
	opacity=.3;
}
 #goTopBtn:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 
 
#goBottom {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 30px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
	writing-mode:tb-rl;
}
 #goBottom:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 #shangy {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 80px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
}
#xiay {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 55px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
}
 
 img{
 border:0;
 }
\s*</p>

<p>\s*

</p>

<p>
</style>
</head>

<body>

<div class="container">



<p>为了把信息存储在计算机中，并随时可以读取，程序必须记录以下3个基本属性。</p>
<p>1 信息存放的位置；</p>
<p>2 要存储的值；</p>
<p>3 信息类型；</p>
<p>如，定义一个整型变量，可以通过以下语句实现</p>
<p>int MyBalls ;</p>
<p>MyBalls = 5 ;</p>
<p>这两行语句说明，程序存储了一个信息类型为整型的变量，其值是5，并且存储在代号为MyBalls的变量中。但在这两行语句中，并不能体现这个值为“5”的整型存储的内存地址，事实上，程序是将这一切都安排好了的。使用“&amp;MyBalls”命令即可查看MyBalls所在的内存地址。</p>
<p>根据变量分配的存储空间的不变，可以分为：</p>
<p>1 自动变量:</p>
<p>auto:位于内存中动态存储区，局部变量+形参</p>
<p>2 静态变量:包括全局变量，局部变量也可以定义为静态的（如果需要在两次函数调用之间保持上一次函数调用结果，可以使用局部变量）；</p>
<p>static:位于内存中静态存储区，</p>
<p>3 寄存器变量:局部变量也可以定义到寄存器中，只限于int,char,pointer变量，如果寄存器饱和时，将自动转换为自动变量；</p>
<p>register:如果有一些变量使用频繁，则为存取变量的值要花费不少时间。为提高执行效率，Ｃ语言允许将局部变量的值放在CPU中的寄存器中，需要用时直接从寄存器取出参加运算，不必再到内存中去存取。由于对寄存器的存取速度远高于对内存的存取速度，因此这样做可以提高执行效率。这种变量叫做寄存器变量，用关键字register作声明。</p>

<p>局部变量:局部变量+静态局部变量+寄存器变量；形参可以定义为自动变量或寄存器变量</p>

<p>全局变量:外部变量+静态外部变量；</p>


<p>动态存储变量:自动变量+寄存器变量+形参；</p>

<p>静态存储变量:静态局部变量+静态外部变量+外部变量</p>

<p>外部变量：函数之外定义的变量称为外部变量。外部变量可以为本文件中其他函数所共用。它的有效范围为从定义变量的位置开始到本源文件结束。所以也称全程变量。</p>

<p>不必要时不要使用全局变量，原因如下：</p>

<p>① 全局变量在程序的全部执行过程中都占用存储单元，而不是仅在需要时才开辟单元。</p>

<p>② 使用全局变量过多，会降低程序的清晰性。在各个函数执行时都可能改变外部变量的值，程序容易出错。因此，要限制使用全局变量。</p>

<p>③降低函数的通用性。因为函数在执行时要依赖于其所在的外部变量。如果将一个函数移到另一个文件中，还要将有关的外部变量及其值一起移过去。但若该外部变量与其他文件的变量同名时，就会出现问题，降低了程序的可靠性和通用性。一般要求把Ｃ程序中的函数做成一个封闭体，除了可以通过“实参——形参”的渠道与外界发生联系外，没有其他渠道。</p>

<p>变量名实际上是对应代表一个地址，在编译时由编译系统给每一个变量名分配对应的内存地址；</p>
<p>从变量存在的时间来区分，有动态存储和静态存储两种类型。静态存储是程序整个运行时间都存在，而动态存储则是在调用函数时临时分配单元。</p>

<p>动态存储 ：自动变量、寄存器变量、形式参数。</p>

<p>静态存储：态局部变量、静态外部变量、外部变量。</p>

<p>从变量值存放的位置来区分,可分为：</p>

<p>内存中静态存储区：静态局部变量、静态外部变量、外部变量。</p>

<p>内存中动态存储区：自动变量和形式参数。</p>

<p>CPU中的寄存器：寄存器变量。</p>
<p>&nbsp;</p>
<p>static定义全局变量</p>
<p>定义全局变量的传统方式</p>
<p>Object.h</p>
<p>extern int number;</p>
<p>Object.cpp</p>
<p>int number = 1;</p>
<p>main.cpp</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &quot;Object.h&quot;</p>
<p>int main()</p>
<p>{</p>
<p>pringf(&quot;number:%d\n&quot;, number);</p>
<p>return 0;</p>
<p>}</p>
<p>定义全局变量的static方式</p>
<p>Object.h</p>
<p>class Object</p>
<p>{</p>
<p>public:</p>
<p>static int number;</p>
<p>};  </p>
<p>Object.cpp</p>
<p>#include &quot;Object.h&quot;</p>
<p>int Object::number = 1;  </p>
<p>main.cpp</p>
<p>#include &lt;stdio.h&gt;</p>
<p>#include &quot;Object.h&quot;</p>
<p>int main()</p>
<p>{</p>
<p>Object::nuber = 2; </p>
<p>pringf(&quot;number:%d\n&quot;, number);</p>
<p>return 0;</p>
<p>}</p>
<p>全局函数类似全局变量的操作；</p>
<p>声明在头文件，定义在cpp文件，在其它文件如main.cpp中调用；</p>
<p>定义和调用时要用类范围符限定；</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp; </p>
</div>
<a name="bottom" id="bottom"></a>
<DIV style="DISPLAY: none" id=goTopBtn>&and;</DIV>
<div id="goBottom"><a href="#bottom" target="_self">&or;</a></div>
<SCRIPT type=text/javascript>goTopEx();</SCRIPT>
</body>
</html>
<script language="javascript"> 
bg_evensssss("tbrowser","#fff","#F5F5F5","#FFFFCC","#FFDDFF");/*#FFFF84*/
</script>
