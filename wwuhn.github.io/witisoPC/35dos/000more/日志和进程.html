<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base target="_blank" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <script type="text/javascript">
 
 function goTopEx(){
var obj=document.getElementById("goTopBtn");
function getScrollTop(){
return document.documentElement.scrollTop;
}
function setScrollTop(value){
document.documentElement.scrollTop=value;
}
window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
obj.onclick=function(){
var goTop=setInterval(scrollMove,10);
function scrollMove(){
setScrollTop(getScrollTop()/111);
if(getScrollTop()<1)clearInterval(goTop);
}
}
}


</script>
<script type="text/javascript">
 
 function goTopEx(){
var obj=document.getElementById("goTopBtn");
function getScrollTop(){
return document.documentElement.scrollTop;
}
function setScrollTop(value){
document.documentElement.scrollTop=value;
}
window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
obj.onclick=function(){
var goTop=setInterval(scrollMove,10);
function scrollMove(){
setScrollTop(getScrollTop()/111);
if(getScrollTop()<1)clearInterval(goTop);
}
}
}


</script>
<title>日志和进程</title>

 <style type="text/css">
#tbrowser a:link，.container a:visited{
font-size:18px;
text-decoration:none;
}
.container{
font-size:1.2em;
margin:auto;
font-family:"宋体";
width:75.29%;
line-height:1.4em;
}

.uls{
color:#CC6666;
font-weight:bold;
}
.uls>ol{
list-style:none;
font-weight:normal;
list-style:lower-latin;
color:#000000;
line-height:1.3em;

}
h2{
font-size:20px;
font-weight:bold;
margin-top:5px;
margin-bottom:-15px;
text-indent:0em;
}
img{
margin-right:5px;
}
.fc{
color:red;
}

a:link {
	text-decoration: none;
}


a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: none;
}
a:active {
	text-decoration: none;
}


#goTopBtn {
	width: 18px;
line-height: 1.2;
padding: 5px 0;
background-color:#eee;
color:#000;
font-size: 12px;
text-align: center;
position: fixed;
_position: absolute;
 
right: 10px;
bottom: 105px;
_bottom: "auto";
cursor: pointer;
opacity: .6;
filter: Alpha(opacity=30);
	opacity=.3;
}
 #goTopBtn:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 
 
#goBottom {
	width: 18px;
line-height: 1.2;
padding: 5px 0;
background-color: #eee;
color: #fff;
font-size: 12px;
text-align: center;
position: fixed;
_position: absolute;
 
right: 10px;
bottom: 30px;
_bottom: "auto";
cursor: pointer;
filter: Alpha(opacity=30);
	opacity=.3;
	writing-mode:tb-rl;
}
 #goBottom:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 #shangy {
	width: 18px;
line-height: 1.2;
padding: 5px 0;
background-color: #eee;
color: #fff;
font-size: 12px;
text-align: center;
position: fixed;
_position: absolute;
 
right: 10px;
bottom: 80px;
_bottom: "auto";
cursor: pointer;
filter: Alpha(opacity=30);
	opacity=.3;
}
#xiay {
	width: 18px;
line-height: 1.2;
padding: 5px 0;
background-color: #eee;
color: #fff;
font-size: 12px;
text-align: center;
position: fixed;
_position: absolute;
 
right: 10px;
bottom: 55px;
_bottom: "auto";
cursor: pointer;
filter: Alpha(opacity=30);
	opacity=.3;
}
 
 img{
 border:0;
 }
 #tab1{
 width:100%;
 border-collapse:collapse;
 
 }
 #tab1 td{
 border:1px blue solid;
 }
#tbrowser {
	width:100%;
	margin:auto;
	border-collapse:collapse;
font-family:"宋体";
	
	table-layout:fixed;
	font-size:18px;
}

#tbrowser th,#tbrowser td{
border:1px solid #eee;
font-size:14px;
color:#000000;

font-family: "宋体";
padding-left:0px;
width:14.1%;

height:22px;
line-height:18px;
/*overflow:hidden;
white-space:nowrap;*/
}


#tbrowser thead th{
border-bottom:2px solid #3d580b;
background-color:#8fc629;
color:#fff;
/*padding:2px 0px;*/
display:table-column-group;
}
#tbrowser .nd{
border-bottom:2px solid #3d580b;
background-color:#8fc629;
background-color:#D3D3A9;
color:red;
}

#tbrowser th{
background-color:#f2f4b9;
}
#tbrowser th.title{
background-color:#e3e685;
}

#tbrowser caption{
font-weight:bold;
padding:1px 0px;
color:#3d580b;
font-size:18px;
}


#tbrowser .xhx{
border-bottom:0px solid #aaa;
}


#tbrowser tr{
height:6px;
}

#tbrowser tr>td{/*1*/
font-size:1em;

/*width:13%;*/
}
#tbrowser tr>td+td{/*2*/

/*width:8%;*/
font-size:1em;
}
#tbrowser tr>td+td+td{/*3*/
font-size:1em;
/*width:5%;*/
}
#tbrowser tr>td+td+td+td{/*4*/
font-size:1em;

/*width:6%;*/
}
#tbrowser tr>td+td+td+td+td{/*5*/
font-size:1em;

/*width:5%;*/
}
#tbrowser tr>td+td+td+td+td+td{/*6*/
/*width:13%;*/
font-size:1em;
}
#tbrowser tr>td+td+td+td+td+td+td{/*7*/
/*width:59%;*/
font-size:1em;
}


#tbrowser tfoot td{
border-width:0px;

line-height:18px;
font-size:16px;
color:#777;
}
.ph{
text-indent:4em;
color:blue;
line-height:18px;
}
p{
text-indent:-2em;
}table{
border-collapse:collapse;
width:88%;
margin:auto;
}
table td{
border:0px;
border:1px solid #aaa;
padding:4px;}
h2{
padding-bottom:22px;}
 </style>
</head>

<body>




<div class="container">
  <p>日志和进程 <br />
    应用程序日志存储路径： <br />
    C:\Windows\System32\winevt\Logs</p>
  <p>用于管理事件日志的服务：windows event log<br />
    停用上述服务后，便可删除上述路径的日志文件133个； <br />
    继续启用上述服务，便会在上述路径自动建立133个日志文件（初始68K）； </p>
  <p>点击上述文件便会自动打开：事件查看器对话框； <br />
    也可通过命令打开：eventvwr<br />
    日志筛选： <br />
    eventvwr---日志管理器－－－选择某类日志－－－action---filter  current log… <br />
    可以选择的筛选变量：日期、严重等级等； <br />
    在事件日志中，每一事件都带有严重程序，从信息性的事件到一般的警告事件、到严重事件（比如关键性错误与失败等）。 <br />
    信息information,表示系统发生了信息性的事件，通常与革一成功的动作相关； <br />
    警告warning,表示一般性的警告，一般用于提醒用户防止以后的系统问题； <br />
    错误error,表示系统中发生了关键性的错误，比如某次服务启动失败； <br />
    成功审核，表示通过审核进行追踪的某个操作成功执行，比如特权使用； <br />
    失败审核，表示通过审核进行追踪的某个操作执行失败，比如登录失败； </p>
  <p>事件日志管理:wevtutil<br />
    以.evtx格式导出日志:<br />
    wevtutil epl logname savelocation<br />
    wevtutil epl application  c:\logs\applog.evtx</p>
  <p>清除日志事件 <br />
    wevtutil cl logname<br />
    wevtutil cl application<br />
    也可先备份后删除 <br />
    wevtutil cl application  /bu:c:\logs\applog.evtx</p>
  <p>进程显示：tasklist<br />
    显示进程及对应的服务：tasklist /svc<br />
    强制终止PID为1346的进程： <br />
    taskkill /f /pid 1346<br />
    终止镜像名为cmd.exe的所有进程 <br />
    taskkill /im cmd.exe</p>
  <p>性能监视器 <br />
    %windir%\system32\perfmon.msc /s<br />
    查看当前配置的数据收集器 <br />
    logman query<br />
    默认的记录位置：%systemdrive%perflogs/admin</p>
  <p>wevtutil<br />
    Windows Events Command Line Utility.<br />
    Enables you to retrieve information about  event logs and publishers, install and uninstall event manifests, run queries,  and export, archive, and clear logs.</p>
  <p>Usage:</p>
  <p>You can use either the short (for example,  ep /uni) or long (for example,<br />
    enum-publishers /unicode) version of the  command and option names. Commands,<br />
    options and option values are not  case-sensitive.</p>
  <p>Variables are noted in all upper-case.</p>
  <p>wevtutil COMMAND [ARGUMENT [ARGUMENT] ...]  [/OPTION:VALUE [/OPTION:VALUE] ...]</p>
  <p>Commands:</p>
  <p>el | enum-logs          List log names.<br />
    gl | get-log            Get log configuration information.<br />
    sl | set-log            Modify configuration of a log.<br />
    ep | enum-publishers    List event publishers.<br />
    gp | get-publisher      Get publisher configuration information.<br />
    im | install-manifest   Install event publishers and logs from  manifest.<br />
    um | uninstall-manifest Uninstall event  publishers and logs from manifest.<br />
    qe | query-events       Query events from a log or log file.<br />
    gli | get-log-info      Get log status information.<br />
    epl | export-log        Export a log.<br />
    al | archive-log        Archive an exported log.<br />
    cl | clear-log          Clear a log.</p>
  <p>Common options:</p>
  <p>/{r | remote}:VALUE<br />
    If specified, run the command on a remote  computer. VALUE is the remote computer<br />
    name. Options /im and /um do not support  remote operations.</p>
  <p>/{u | username}:VALUE<br />
    Specify a different user to log on to the  remote computer. VALUE is a user name<br />
    in the form domain\user or user. Only  applicable when option /r is specified.</p>
  <p>/{p | password}:VALUE<br />
    Password for the specified user. If not  specified, or if VALUE is &quot;*&quot;, the user<br />
    will be prompted to enter a password. Only  applicable when the /u option is<br />
    specified.</p>
  <p>/{a |  authentication}:[Default|Negotiate|Kerberos|NTLM]<br />
    Authentication type for connecting to  remote computer. The default is Negotiate.</p>
  <p>/{uni | unicode}:[true|false]<br />
    Display output in Unicode. If true, then  output is in Unicode.</p>
  <p>To learn more about a specific command,  type the following:</p>
</div>
<a name="bottom" id="bottom"></a>
<DIV style="DISPLAY: none" id=goTopBtn>&and;</DIV>
<div id="shangy"><a href="javascript:void(null)" onclick="shangy()" target="_self">&uarr;</a></div>
<div id="xiay"><a href="javascript:void(null)" onclick="xiay()" target="_self">&darr;</a></div>
<div id="goBottom"><a href="#bottom" target="_self">&or;</a></div>
<SCRIPT type=text/javascript>goTopEx();</SCRIPT>
<script type="text/javascript">
function xiay(){
window.scrollBy(0,window.innerHeight);
}
function shangy(){
window.scrollBy(0,-window.innerHeight);
}
</script>
</body>
</html>
