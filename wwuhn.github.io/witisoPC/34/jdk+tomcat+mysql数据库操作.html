<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base target="_blank" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <script type="text/javascript">
 
 function goTopEx(){
        var obj=document.getElementById("goTopBtn");
        function getScrollTop(){
                return document.documentElement.scrollTop;
            }
        function setScrollTop(value){
                document.documentElement.scrollTop=value;
            }    
        window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
        obj.onclick=function(){
            var goTop=setInterval(scrollMove,10);
            function scrollMove(){
                    setScrollTop(getScrollTop()/111);
                    if(getScrollTop()<1)clearInterval(goTop);
                }
        }
    }


</script>
<script type="text/javascript">
 
 function goTopEx(){
        var obj=document.getElementById("goTopBtn");
        function getScrollTop(){
                return document.documentElement.scrollTop;
            }
        function setScrollTop(value){
                document.documentElement.scrollTop=value;
            }    
        window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
        obj.onclick=function(){
            var goTop=setInterval(scrollMove,10);
            function scrollMove(){
                    setScrollTop(getScrollTop()/111);
                    if(getScrollTop()<1)clearInterval(goTop);
                }
        }
    }


</script>
<title>jdk+tomcat+mysql数据库操作</title>

 <style type="text/css">
#tbrowser a:link，.container a:visited{
font-size:18px;
text-decoration:none;
}
.container{
font-size:1.2em;
margin:auto;
font-family:"宋体";
width:75.29%;
line-height:1.4em;
}
P{
margin:8px;
text-indent:2em;
}
.uls{
color:#CC6666;
font-weight:bold;
}
.uls>ol{
list-style:none;
font-weight:normal;
list-style:lower-latin;
color:#000000;
line-height:1.3em;

}
h2{
font-size:20px;
font-weight:bold;
margin-top:15px;
margin-bottom:0px;
text-indent:0em;
}
img{
margin-right:5px;
}
.fc{
color:red;
}

a:link {
	text-decoration: none;
}


a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: none;
}
a:active {
	text-decoration: none;
}


#goTopBtn {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color:#eee;
    color:#000;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 105px;
    _bottom: "auto";
    cursor: pointer;
    opacity: .6;
    filter: Alpha(opacity=30);
	opacity=.3;
}
 #goTopBtn:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 
 
#goBottom {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 30px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
	writing-mode:tb-rl;
}
 #goBottom:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 #shangy {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 80px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
}
#xiay {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 55px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
}
 
 img{

 border:0;
 }
 
 \s*</p>

<p>\s*
 
 
</p>

<p>
</style>
</head>

<body>

<div class="container"><%@ page contentType="text/html; charset=utf-8" language="java" import="java.sql.*" errorPage="" %>
<%@ page import="com.mysql.jdbc.Driver" %>
<%@ page import="java.sql.*" %>
<body><div class="container">
<p>&lt;%@  page contentType=&quot;text/html; charset=utf-8&quot; language=&quot;java&quot;  import=&quot;java.sql.*&quot; errorPage=&quot;&quot; %&gt;</p>

<p>&lt;%@  page import=&quot;com.mysql.jdbc.Driver&quot; %&gt;</p>

<p>&lt;%@  page import=&quot;java.sql.*&quot; %&gt;</p>

<p>&lt;body&gt;&lt;div  class=&quot;container&quot;&gt;</p>

<p>&lt;p&gt;jdk+tomcat+mysql;</p>

<p>&lt;p&gt;1  JDK安装和配置：新建和修改环境变量：</p>

<p>&lt;p&gt;1.1  java_path:D:\java\jdk;</p>

<p>&lt;p&gt;1.2  classpath:.;%java_home%\lib/tools.jar;</p>

<p>&lt;p&gt;1.3  path:add:  ;%java_home%\bin;</p>

<p>&lt;p&gt;2  Tomcat下载安装和配置：server.xml,&lt;host...&gt;&lt;Context ... docBase=&quot;&quot; ...&gt;&lt;/Context&gt;&lt;/host&gt; </p>

<p>&lt;p&gt;3  mysql的下载和安装（安装版msi,mysql-installer-community-5.5.32.2），组件全安装；数据库帐户默认为root,密码：wwuhn;并新建数据库school,表school;(新建的数据库位于安装目录的data文件夹内；)</p>

<p>&lt;p&gt;4  下载数据库连接包，提取文件mysql-connector-java-5.1.22-bin.jar并复制到以下各处：</p>

<p>&lt;p&gt;&amp;D:\java\jdk\lib</p>

<p>&lt;p&gt;&amp;D:\Tomcat  7.0\lib</p>

<p>&lt;p&gt;I:\wwuhn\Website\witiso\21\jspsite\wwu\WebContent\WEB-INF\lib;</p>

<p>&lt;p&gt;5  环境变量classpath修：.;I:\wwuhn\Website\witiso\21\jspsite\wwu\WebContent\WEB-INF\lib\  mysql-connector-java-5.1.22-bin.jar;D:\java\jdk\lib\tools.jar;D:\java\jdk\lib\mysql-connector-java-5.1.22-bin.jar;</p>

<p>&lt;p&gt;6  tomcat服务重启，并确保mysql的服务已启动；&lt;br /&gt;</p>

<p>&lt;%</p>

<p>String  driverName=&quot;com.mysql.jdbc.Driver&quot;;//驱动程序名</p>

<p>String  userName=&quot;root&quot;;//数据库用户名</p>

<p>String  userPasswd=&quot;wwuhn&quot;;//密码</p>

<p>String  dbName=&quot;school&quot;;//数据库名</p>

<p>String  tableName=&quot;school&quot;;//表名</p>

<p>//联结字符串</p>

<p>String  url=&quot;jdbc:mysql://localhost/&quot;+dbName+&quot;?user=&quot;+userName+&quot;&amp;password=&quot;+userPasswd;</p>

<p>Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();</p>

<p>Connection  connection=DriverManager.getConnection(url);</p>

<p>Statement  statement = connection.createStatement();</p>

<p>String  sql=&quot;SELECT * FROM &quot;+tableName;</p>

<p>ResultSet  rs = statement.executeQuery(sql);</p>
  <p align="left">ResultSetMetaData  rmeta = rs.getMetaData();//获得数据结果集合</p>

<p>int  numColumns=rmeta.getColumnCount();//确定数据集的列数，亦字段数</p>
  <br clear="all">
  <p align="left">out.print(&quot;&lt;table&gt;&quot;);</p>

<p>out.print(&quot;&lt;tr&gt;&quot;);</p>

<p>out.print(&quot;&lt;td&gt;&quot;);</p>

<p>out.print(&quot;id&quot;);//</p>

<p>out.print(&quot;&lt;/td&gt;&lt;td&gt;&quot;);</p>

<p>out.print(&quot;name&quot;);</p>

<p>out.print(&quot;&lt;/td&gt;&lt;td&gt;&quot;);</p>

<p>out.print(&quot;address&quot;);</p>

<p>out.print(&quot;&lt;/td&gt;&lt;td&gt;&quot;);</p>

<p>out.print(&quot;year&quot;);</p>

<p>out.print(&quot;&lt;/td&gt;&quot;);</p>

<p>out.print(&quot;&lt;/tr&gt;&quot;);</p>
  <p align="left">while(rs.next()){</p>

<p>out.print(&quot;&lt;tr&gt;&lt;td&gt;&quot;);</p>

<p>out.print(rs.getString(1)+&quot;  &quot;);</p>

<p>out.print(&quot;&lt;/td&gt;&lt;td&gt;&quot;);</p>

<p>out.print(rs.getString(2)+&quot;  &quot;);</p>

<p>out.print(&quot;&lt;/td&gt;&lt;td&gt;&quot;);</p>

<p>out.print(rs.getString(3)+&quot;  &quot;);</p>

<p>out.print(&quot;&lt;/td&gt;&lt;td&gt;&quot;);</p>

<p>out.print(rs.getString(4)+&quot;  &quot;);</p>

<p>out.print(&quot;&lt;/td&gt;&lt;/tr&gt;&quot;);</p>

<p>}</p>

<p>out.print(&quot;&lt;/table&gt;&quot;);</p>
  <p align="left">out.print(&quot;数据库操作成功!&quot;);</p>

<p>rs.close();</p>

<p>statement.close();</p>

<p>connection.close();</p>

<p>%&gt;&lt;/p&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;</p>
  <p><br /></p>
</div>
<a name="bottom" id="bottom"></a>
<DIV style="DISPLAY: none" id=goTopBtn>&and;</DIV>
<div id="goBottom"><a href="#bottom" target="_self">&or;</a></div>
<SCRIPT type=text/javascript>goTopEx();</SCRIPT>
</body>
</html>
<script language="javascript"> 
bg_evensssss("tbrowser","#fff","#F5F5F5","#FFFFCC","#FFDDFF");/*#FFFF84*/
</script>
