<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 
<title>js字符编码</title>

 <style type="text/css">
#tbrowser a:link，.container a:visited{
font-size:18px;
text-decoration:none;
}
.container{
font-size:1.2em;
margin:auto;
font-family:"mv boli","宋体";
width:75.29%;
line-height:1.4em;
}
P{
margin:8px;
text-indent:2em;
}
.uls{
color:#CC6666;
font-weight:bold;
}
.uls>ol{
list-style:none;
font-weight:normal;
list-style:lower-latin;
color:#000000;
line-height:1.3em;

}
h2{
font-size:20px;
font-weight:bold;
margin-top:5px;
margin-bottom:-15px;
text-indent:0em;
}
img{
margin-right:5px;
}
.fc{
color:red;
}

a:link {
	text-decoration: none;
}


a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: none;
}
a:active {
	text-decoration: none;
}
</style>
</head>

<body>
<div class="container">
  <div>
    <h5><a id="cb_post_title_url" href="http://www.cnblogs.com/qiantuwuliang/archive/2009/07/19/1526687.html">escape()、encodeURI()、encodeURIComponent()区别详解</a></h5>
  </div>
  <div id="cnblogs_post_body">
  
  <p>当客户与服务器通讯时，一些非字母数字字符（如空格）不能以它们本来的形式传输。允许直接传输的只有一个范围很窄的字母、数字、标点符号集。为了包含其它的字符，它们必须通过特殊的记号（%）与它们的十六进制ASCII值来编码。如，空格的16进制是hex 20(ASCII码10进制是32），编码后为%20.在浏览器的历史记录或URL中就会经常出现这个符号。
  
    <p>JavaScript中有三个可以对字符串编码的函数，分别是：   escape,encodeURI,encodeURIComponent，相应3个解码函数：unescape,decodeURI,decodeURIComponent   。 </p>
    <p>下面简单介绍一下它们的区别 </p><br />
    <p><strong>1 escape()函数</strong> </p>
    <p>定义和用法 <br />
      escape() 函数可对字符串进行编码，这样就可以在所有的计算机上读取该字符串。 </p>
    <p>语法 <br />
      escape(string)</p>
    <p>参数  描述  <br />
      string  必需。要被转义或编码的字符串。  </p>
    <p>返回值 <br />
      已编码的 string 的副本。其中某些字符被替换成了十六进制的转义序列。 </p>
    <p>说明 <br />
      该方法不会对 ASCII 字母和数字进行编码，也不会对下面这些 ASCII 标点符号进行编码： - _ . ! ~ * ' ( )   。其他所有的字符都会被转义序列替换。 </p>
    <p> </p>
    <p><br />
        <strong>2 encodeURI()函数 </strong><strong><br />
          </strong>定义和用法 <br />
      encodeURI() 函数可把字符串作为 URI 进行编码。 </p>
    <p>语法 <br />
      encodeURI(URIstring)</p>
    <p>参数  描述  <br />
      URIstring  必需。一个字符串，含有 URI 或其他要编码的文本。  </p>
    <p>返回值 <br />
      URIstring 的副本，其中的某些字符将被十六进制的转义序列进行替换。 </p>
    <p>说明 <br />
      该方法不会对 ASCII 字母和数字进行编码，也不会对这些 ASCII 标点符号进行编码： - _ . ! ~ * ' ( ) 。 </p>
    <p>该方法的目的是对 URI 进行完整的编码，因此对以下在 URI 中具有特殊含义的 ASCII 标点符号，encodeURI()   函数是不会进行转义的：;/?:@&amp;=+$,# </p>
    <p> </p>
    <p><br />
        <strong>3 encodeURIComponent() 函数</strong> </p>
    <p>定义和用法 <br />
      encodeURIComponent() 函数可把字符串作为 URI 组件进行编码。 </p>
    <p>语法 <br />
      encodeURIComponent(URIstring)</p>
    <p>参数  描述  <br />
      URIstring  必需。一个字符串，含有 URI 组件或其他要编码的文本。  </p>
    <p>返回值 <br />
      URIstring 的副本，其中的某些字符将被十六进制的转义序列进行替换。 </p>
    <p>说明 <br />
      该方法不会对 ASCII 字母和数字进行编码，也不会对这些 ASCII 标点符号进行编码： - _ . ! ~ * ' ( ) 。 </p>
    <p>其他字符（比如 ：;/?:@&amp;=+$,# 这些用于分隔 URI 组件的标点符号），都是由一个或多个十六进制的转义序列替换的。 </p>
    <p>提示和注释 <br />
      提示：请注意 encodeURIComponent() 函数 与 encodeURI() 函数的区别之处，前者假定它的参数是 URI   的一部分（比如协议、主机名、路径或查询字符串）。因此 encodeURIComponent() 函数将转义用于分隔 URI 各个部分的标点符号。 </p>
    <p> </p>
    <p><strong>4 总结：</strong> </p>
    <p> 通过对三个函数的分析，我们可以知道：escape()除了 ASCII   字母、数字和特定的符号外，对传进来的字符串全部进行转义编码，因此如果想对URL编码，最好不要使用此方法。而encodeURI()   用于编码整个URI,因为URI中的合法字符都不会被编码转换。encodeURIComponent方法在编码单个URIComponent（指请求参数）应当是最常用的，它可以讲参数中的中文、特殊字符进行转义，而不会影响整个URL。</p>
    <p> </p>
    <p><strong>5 示例：</strong> </p>
    <p><strong>1 escape()</strong> </p>
    <p>&lt;script type=&quot;text/javascript&quot;&gt;</p>
    <p>document.write(escape(&quot;<a href="http://www.w3school.com.cn/">http://www.w3school.com.cn/</a>&quot;) + &quot;&lt;br   /&gt;&quot;)</p>
    <p>document.write(escape(&quot;?!=()#%&amp;&quot;))</p>
    <p>&lt;/script&gt;输出：</p>
    <p>http%3A//www.w3school.com.cn</p>
    <p>%3F%21%3D%28%29%23%25%26<br />
        <br />
      <strong>2 encodeURI()</strong> </p>
    <p>&lt;script type=&quot;text/javascript&quot;&gt;</p>
    <p>document.write(encodeURI(&quot;<a href="http://www.w3school.com.cn/">http://www.w3school.com.cn/</a>&quot;)+ &quot;&lt;br   /&gt;&quot;)</p>
    <p>document.write(encodeURI(&quot;<a href="http://www.w3school.com.cn/My">http://www.w3school.com.cn/My</a> first/&quot;))</p>
    <p>document.write(encodeURI(&quot;,/?:@&amp;=+$#&quot;))</p>
    <p>&lt;/script&gt;输出：</p>
    <p><a href="http://www.w3school.com.cn/">http://www.w3school.com.cn/</a></p>
    <p><a href="http://www.w3school.com.cn/My%20first/">http://www.w3school.com.cn/My%20first/</a></p>
    <p>,/?:@&amp;=+$#</p>
    <p>对整个URL进行编码，而URL的特定标识符不会被转码。</p>
    <p><strong>3 encodeURIComponent()</strong></p>
    <p>例1：</p>
    <p>&lt;script type=&quot;text/javascript&quot;&gt;</p>
    <p>document.write(encodeURIComponent(&quot;<a href="http://www.w3school.com.cn/">http://www.w3school.com.cn/</a>&quot;))</p>
    <p>document.write(&quot;&lt;br /&gt;&quot;)</p>
    <p>document.write(encodeURIComponent(&quot;<a href="http://www.w3school.com.cn/p">http://www.w3school.com.cn/p</a> 1/&quot;))</p>
    <p>document.write(&quot;&lt;br /&gt;&quot;)</p>
    <p>document.write(encodeURIComponent(&quot;,/?:@&amp;=+$#&quot;))</p>
    <p>&lt;/script输出：</p>
    <p>http%3A%2F%2Fwww.w3school.com.cn <br />
      http%3A%2F%2Fwww.w3school.com.cn%2Fp%201%2F <br />
      %2C%2F%3F%3A%40%26%3D%2B%24%23<br />
      例2：&lt;script   language=&quot;javascript&quot;&gt;document.write('</p>
    <p>&lt;a href=&quot;<a href="http://passport.baidu.com/?logout&amp;aid=7&amp;u='+encodeURIComponent('http://cang.baidu.com/bruce42')+'">http://passport.baidu.com/?logout&amp;aid=7&amp;u='+encodeURIComponent(&quot;http://cang.baidu.com/bruce42&quot;)+'</a>&quot;&gt;退出&lt;/a&gt;');&lt;/script&gt;</p>
    <p>对URL中的参数进行编码，因为参数也是一个URL，如果不编码会影响整个URL的跳转。</p>
  </div>
</p>
<p>

</div>
</body>
</html>
