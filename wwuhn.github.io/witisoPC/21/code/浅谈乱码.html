<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base target="_blank" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <script type="text/javascript">
 
 function goTopEx(){
        var obj=document.getElementById("goTopBtn");
        function getScrollTop(){
                return document.documentElement.scrollTop;
            }
        function setScrollTop(value){
                document.documentElement.scrollTop=value;
            }    
        window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
        obj.onclick=function(){
            var goTop=setInterval(scrollMove,10);
            function scrollMove(){
                    setScrollTop(getScrollTop()/111);
                    if(getScrollTop()<1)clearInterval(goTop);
                }
        }
    }


</script>
<script type="text/javascript">
 
 function goTopEx(){
        var obj=document.getElementById("goTopBtn");
        function getScrollTop(){
                return document.documentElement.scrollTop;
            }
        function setScrollTop(value){
                document.documentElement.scrollTop=value;
            }    
        window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
        obj.onclick=function(){
            var goTop=setInterval(scrollMove,10);
            function scrollMove(){
                    setScrollTop(getScrollTop()/111);
                    if(getScrollTop()<1)clearInterval(goTop);
                }
        }
    }


</script>
<title>浅谈乱码</title>

 <style type="text/css">
#tbrowser a:link，.container a:visited{
font-size:18px;
text-decoration:none;
}
.container{
font-size:1.2em;
margin:auto;
font-family:"宋体";
width:75.29%;
line-height:1.4em;
}
P{
margin:8px;
text-indent:2em;
}
.uls{
color:#CC6666;
font-weight:bold;
}
.uls>ol{
list-style:none;
font-weight:normal;
list-style:lower-latin;
color:#000000;
line-height:1.3em;

}
h2{
font-size:20px;
font-weight:bold;
margin-top:5px;
margin-bottom:-15px;
text-indent:0em;
}
img{
margin-right:5px;
}
.fc{
color:red;
}

a:link {
	text-decoration: none;
}


a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: none;
}
a:active {
	text-decoration: none;
}


#goTopBtn {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #000;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 100px;
    _bottom: "auto";
    cursor: pointer;
    opacity: .6;
    filter: Alpha(opacity=30);
	opacity=.3;
}
 #goTopBtn:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 
 
#goBottom {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 70px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
}
 #goBottom:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 
 
 img{
 border:0;
 }
</style>
</head>

<body>
<div class="container">
<p>
网站中如果涉及到东亚语音，比如中文，日语等，就不得牵扯到字符的编码问题，这本来是一个历史问题，到如今却成为了一个软件开发的大问题。几乎做过<span lang="EN-US" xml:lang="EN-US">B/S</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">开发的人都遇到过字符乱码问题。那么</span><span lang="EN-US" xml:lang="EN-US">UTF-8</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">不是支持全球所有语言吗？理论上是的，但是在中国，</span><span lang="EN-US" xml:lang="EN-US">gb2312 GBK</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">等字符集已经活得了广泛的使用，而</span><span lang="EN-US" xml:lang="EN-US">GBK gb2312</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">与</span><span lang="EN-US" xml:lang="EN-US">UTF-8</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">的编码又是不一样的。正是因为编码的混乱，造成开发时经常会出现乱码。</span><span lang="EN-US" xml:lang="EN-US"> </span> </p>

<div><span lang="EN-US" xml:lang="EN-US"></span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">那么如果解决这个问题呢？</span><span lang="EN-US" xml:lang="EN-US"> </span></div>
<div><span lang="EN-US" xml:lang="EN-US"></span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">要统一四方面的编码（有的人仅仅在</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">页面中加入一些代码就声称解决编码问题，其实根本没有解决真正的问题所在）。</span><span lang="EN-US" xml:lang="EN-US"> </span></div>
<div><span lang="EN-US" xml:lang="EN-US"></span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">第一方面，就是开发人员在编写代码的时候所使用的编码方式，这很重要。如果在程序中使用硬编码的方式写入一些静态文本，在本机似乎看起来一切正常，可是到了另一台电脑，情况可能就完全不同了。要知道</span><span lang="EN-US" xml:lang="EN-US">B/S</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">结构的软件是面向全球的，有谁会知道对方在使用那种编码呢？比如现在一般常用的</span><span lang="EN-US" xml:lang="EN-US">IDE</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">使用的默认编码是</span><span lang="EN-US" xml:lang="EN-US">UTF-8 ,</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">在软件完成之后，在另一个只支持</span><span lang="EN-US" xml:lang="EN-US">gb2312</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">的编码里有可能就是一串乱码。如果程序中涉及到中文的硬编码，最好将编辑器的字符集设置为</span><span lang="EN-US" xml:lang="EN-US">GBK</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">因为</span><span lang="EN-US" xml:lang="EN-US">GBK</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">对英文字符编码方式是兼容的，这样在国外可以看到英文，国内也可以看到中文，这种做法对于面向国内用户的网站来说是最好的做法了，如果主要是面向国外，则使用默认的</span><span lang="EN-US" xml:lang="EN-US">UTF-8</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">是最好的选择。</span><span lang="EN-US" xml:lang="EN-US"> </span></div>
<div><span lang="EN-US" xml:lang="EN-US"></span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">第二方面，输入法的编码设置，很多人在被乱码问题弄得头晕的时候往往不会意识到自己的输入法有问题。其实中文在输入的时候，输入法肯定要选择一种字符集进行编码的，如果输入法的字符集是</span><span lang="EN-US" xml:lang="EN-US">UTF-8 </span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">那么只支持</span><span lang="EN-US" xml:lang="EN-US">GBK</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">和</span><span lang="EN-US" xml:lang="EN-US">gb2312</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">的浏览器显示的肯定会是乱码，解决方式如上，将输入法的字符集设置为</span><span lang="EN-US" xml:lang="EN-US">GBK</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">以获得最好的兼容性。</span><span lang="EN-US" xml:lang="EN-US"> </span></div>
<div><span lang="EN-US" xml:lang="EN-US"></span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">第三方面，数据库的字符编码设置，就拿</span><span lang="EN-US" xml:lang="EN-US">MySql</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">来说，在安装配置的时候，</span><span lang="EN-US" xml:lang="EN-US">Mysql</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">会提示用户选择某一个特定的字符集，对于使用中文的软件来说，选择</span><span lang="EN-US" xml:lang="EN-US">GBK</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">仍旧是最好的选择。</span><span lang="EN-US" xml:lang="EN-US"> </span></div>
<div><span lang="EN-US" xml:lang="EN-US"></span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">第四方面，</span><span lang="EN-US" xml:lang="EN-US">java</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">虚拟机编译时的字符集设置，如果输入的是</span><span lang="EN-US" xml:lang="EN-US">GBK </span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">而编译</span><span lang="EN-US" xml:lang="EN-US">JSP</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">使用的是</span><span lang="EN-US" xml:lang="EN-US">UTF-8</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">的话，那么一切又都乱了。所以可以在编译参数里写入</span><span lang="EN-US" xml:lang="EN-US"> </span></div>
<div><span lang="EN-US" xml:lang="EN-US">-encoding GBK</span></div>
<div><span lang="EN-US" xml:lang="EN-US"></span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">这样一切都是</span><span lang="EN-US" xml:lang="EN-US">GBK</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">格式，中文的现实才被解决了，当然也可以全部设置为</span><span lang="EN-US" xml:lang="EN-US">UTF-8</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">或者</span><span lang="EN-US" xml:lang="EN-US">GB2312 </span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">对于国内网站来说</span><span lang="EN-US" xml:lang="EN-US">GBK</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">仍旧是最佳选择。但不管选择哪种方式，一定要让这四个方面的编码方式保持一致，否则乱码随时都有可能出现。</span><span lang="EN-US" xml:lang="EN-US"> </span></div>
<div><span lang="EN-US" xml:lang="EN-US"></span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">编码问题不是一时半会所能解决的。即使以上这四个方面都做到了，在美国的用户如果使用</span><span lang="EN-US" xml:lang="EN-US">UTF-8</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">字符集的浏览器访问</span><span lang="EN-US" xml:lang="EN-US">GBK</span><span times="" roman?;="" mso-hansi-font-family:="" ?times="" new="" roman?="">的中文网站，仍旧会使乱码一团。这是一个历史原因，在将来的某个时刻，或许会被最终解决。</span></div>
<p> </p>
<p>

</div>
<a name="bottom" id="bottom"></a>
<DIV style="DISPLAY: none" id=goTopBtn>回到顶部</DIV>
<div id="goBottom"><a href="#bottom" target="_self">&or;</a></div>
<SCRIPT type=text/javascript>goTopEx();</SCRIPT>
</body>
</html>
