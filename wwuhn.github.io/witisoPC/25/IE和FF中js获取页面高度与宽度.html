<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base target="_blank" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <script type="text/javascript">
 
 function goTopEx(){
        var obj=document.getElementById("goTopBtn");
        function getScrollTop(){
                return document.documentElement.scrollTop;
            }
        function setScrollTop(value){
                document.documentElement.scrollTop=value;
            }    
        window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
        obj.onclick=function(){
            var goTop=setInterval(scrollMove,10);
            function scrollMove(){
                    setScrollTop(getScrollTop()/111);
                    if(getScrollTop()<1)clearInterval(goTop);
                }
        }
    }


</script>
<script type="text/javascript">
 
 function goTopEx(){
        var obj=document.getElementById("goTopBtn");
        function getScrollTop(){
                return document.documentElement.scrollTop;
            }
        function setScrollTop(value){
                document.documentElement.scrollTop=value;
            }    
        window.onscroll=function(){getScrollTop()>0?obj.style.display="":obj.style.display="none";}
        obj.onclick=function(){
            var goTop=setInterval(scrollMove,10);
            function scrollMove(){
                    setScrollTop(getScrollTop()/111);
                    if(getScrollTop()<1)clearInterval(goTop);
                }
        }
    }


</script>
<title>IE和FF中js获取页面高度与宽度</title>

<style type="text/css">
#tbrowser a:link，.container a:visited{
font-size:18px;
text-decoration:none;
}
.container{
font-size:1.2em;
margin:auto;
font-family:"宋体";
width:75.29%;
line-height:1.4em;
}
P{
margin:8px;
text-indent:2em;
}
.uls{
color:#CC6666;
font-weight:bold;
}
.uls>ol{
list-style:none;
font-weight:normal;
list-style:lower-latin;
color:#000000;
line-height:1.3em;

}
h2{
font-size:20px;
font-weight:bold;
margin-top:15px;
margin-bottom:0px;
text-indent:0em;
}
img{
margin-right:5px;
}
.fc{
color:red;
}

a:link {
	text-decoration: none;
}


a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: none;
}
a:active {
	text-decoration: none;
}


#goTopBtn {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color:#eee;
    color:#000;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 105px;
    _bottom: "auto";
    cursor: pointer;
    opacity: .6;
    filter: Alpha(opacity=30);
	opacity=.3;
}
 #goTopBtn:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 
 
#goBottom {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 30px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
	writing-mode:tb-rl;
}
 #goBottom:hover{
 background-color:white;
 border:#ccc 1px solid;
 color:red;
 }
 #shangy {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 80px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
}
#xiay {
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    background-color: #eee;
    color: #fff;
    font-size: 12px;
    text-align: center;
    position: fixed;
    _position: absolute;
 
    right: 10px;
    bottom: 55px;
    _bottom: "auto";
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
}
 
 img{
 border:0;
 }
 
\s*</p>

<p>\s*
 
 
</p>

<p>
</style>
</head>

<body>

<div class="container">
<p>IE和FF中js获取页面高度与宽度的对比</p>

<p>在做web前端开发的时候，我们经常要用JavaScript获取页面的高度和宽度，但在不同的浏览器下获取的方法又不一样，或者说方法一样，但因为IE和FF对web标准的不同实现，同样的方法两浏览器得到的是不同的高度或者宽度。下面就对IE和FF中js获取页面高度与宽度做下对比：</p>

<p>1、window.screen.width/.height： 显示器大小(IE和FF通用)1440 * 900  –&gt; 和浏览器是否全屏无关</p>

<p>2、document.documentElement.clientHeight /clientWidth： 浏览器可视窗口大小(IE和FF通用)：该值不受样式表制约，只会随浏览器窗口大小变化。这和document.body.clientWidth 不一样。</p>

<p>3、document.body.clientHeight : 文档高度(IE和FF通用)：和上面一样，只是取值对象改为BODY，当BODY中无内容时，IE下为18，FF为0.当有内容时，则IE值=FF值，此值和BODY中的内容有关，是所有元素高度的总和</p>

<p>4、document.body.clientWidth : 文档宽度(IE和FF通用，FF会比IE取得值多2PX左右)：如IE 1440，FF：1442，此值和BODY中内容无关，但和样式有关，如在样式定义body{width:98px}，则此值为98，当浏览器大小改变时，如不是全屏，此值也会跟着变化。</p>

<p>3、document.documentElement.scrollLeft/scrollTop ：页面滚动后的左侧/顶端位置(IE和FF通用)。</p>

<p>4、document.documentElement.scrollHeight / scrollWidth : 获取对象的滚动高/宽度(IE和FF通用但有差别) IE/FF差别在于当body总高度小于浏览窗口可见区高度时，IE的scrollHeight值为body实际高度，而FF为浏览器可见区的高度。如果body高度大于浏览器可见区，则二者没什么差别。</p>

<p>5、document.documentElement.offsetHeight / offsetWidth : 获取对象相对于版面或由父坐标offsetParent 属性指定的父坐标的宽/高度.(和上面功能类似且IE/FF 通用，但差别正好相反) offsetHeight是指浏览器可见区的高度，而offsetWidth是指浏览器宽度，差别在于当body总高度低于浏览窗口可见区高度时，IE的offsetHeight值仍为浏览器可见区的高度,而FF为body实际高度。如果body高度大于浏览器可见区，则二者没什么差别。</p>

<p>注、document.body.offsetHeight 和  document.body.offsetWidth :这对和上面不同，对象为body，在FF/IE下的值都是body的高和宽。不受浏览器可视区影响。</p>

<p>另外，当CSS有对BODY的宽做限制时，这时如果页面有一个div的宽超过这个值，则IE的document.body.clientWidth和offsetWidth等于那个DIV的宽，但FF则仍然保留CSS中对body宽界定的值。</p>

<p>并且要注意的是：如果没有在CSS中对body定义了 body{margin:0px;width:1239px}，而这时有一个div的值超过了屏幕大小，比如1600px;那么在IE 中，document.body.offsetWidth/clientWidth或用document.documentElement等等都可以取到 body实际宽值为那个DIV的宽度，而FF则不论用什么，body值都是浏览器可视区的大小，不会按那个div的宽来计算。</p>

<p>这时要用document.documentElement.scrollWidth（不能用body）来做为文本的宽度测量。而浏览器的可视宽度测量用document.documentElement.clientWidth。如下：</p>

<p>function BrowserAndIEwidth()   {</p>

<p>var str2=”</p>

<p>bodyWidth = document.documentElement.scrollWidth   //这里不能用document.body.</p>

<p>BrowserWidth = document.documentElement.clientWidth</p>

<p>str1 = ‘ BODY的实际宽度 = ‘ +bodyWidth+’，浏览器可视宽度 = ‘+BrowserWidth</p>

<p>if (bodyWidth&gt;BrowserWidth){</p>

<p>str2 = ‘body超过了浏览器的宽度！’</p>

<p>}</p>

<p>alert(str1+’\n’+str2);</p>

<p>}</p>

<p>//此函数在IE下当body内容未超范围时，并且用overflow=”auto”设置过后，取值会不准。</p>

<p>或者分开取值更好：如下函数即为取得当前页面的高度：</p>

<p>function(){</p>

<p>if (window.innerHeight &amp;&amp; window.scrollMaxY)  {   //FF</p>

<p>yScroll = window.innerHeight + window.scrollMaxY;</p>

<p>} else if (document.body.scrollHeight &gt;  document.body.offsetHeight){ //IE</p>

<p>yScroll = document.body.scrollHeight;</p>

<p>} else {yScroll = document.body.offsetHeight;}</p>

<p>return yScroll;</p>

<p>}</p>

<p>6、offsetLeft:获取对象相对于版面或由offsetParent 属性指定的父坐标的计算左侧位置</p>

<p>7、offsetTop:获取对象相对于版面或由offsetTop 属性指定的父坐标的计算顶端位置</p>

<p>以下仅为IE或FF部分适用：</p>

<p>8、window.pageXOffset/pageYOffset: 页面滚动后的顶端位置(仅FF适用，建议用document.documentElement.scrollLeft/scrollTop)。</p>

<p>9、window.innerWidth /innerHeight: 浏览器可视区的大小,即不含浏览器菜单、工具栏(仅FF适用，建议用document.documentElement.clientHeight)，改变浏览器大小，此值也会改变</p>

<p>10、event.offsetY / .offsetX ：(仅IE适用)光标指针相对于发生事件的对象的左上角的位置，也就是把事件发生区的DIV或TABLE等元素左上角当做坐标的0，0开始计算。</p>

<p>11、event.clientX / .clientY ：(仅IE适用)与offsetX不同，clientX是从body窗口左上角开始计算。</p>

<p>12、在IE下的 event.x 等于FF中的event.pageX</p>

<p>13、window.scrollMaxX /window.scrollMaxY ：最大可滚动的值。仅FF可用。</p>

<p>应用举例：</p>

<p>1、当body的宽度没有受CSS样式表限制时，如没有规定body{width:863px}：则</p>

<p>document.body.clientWidth =  document.documentElement.scrollWidth</p>

<p>反之当有限制时，则IE的document.documentElement.scrollWidth仍然等于document.body.clientWidth，但FF则document.documentElement.scrollWidth=浏览器窗口可视区的大小，只有用document.body.scrollWidth才能相等。也可以看出两种浏览器对容器的定义不同。</p>
<p>

</div>
<a name="bottom" id="bottom"></a>
<DIV style="DISPLAY: none" id=goTopBtn>&and;</DIV>
<div id="goBottom"><a href="#bottom" target="_self">&or;</a></div>
<SCRIPT type=text/javascript>goTopEx();</SCRIPT>
</body>
</html>
<script language="javascript"> 
bg_evensssss("tbrowser","#fff","#F5F5F5","#FFFFCC","#FFDDFF");/*#FFFF84*/
</script>
