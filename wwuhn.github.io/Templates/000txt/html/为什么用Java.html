<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<base target="_blank" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<script type="text/javascript">
var userAgent = navigator.userAgent.toLowerCase();
var browser = 
	(browser = userAgent.match(/qqbrowser\/([\d.]+)/))?"qqbrowser/"+browser[1]:
	(browser = userAgent.match(/se\s+2.x/))?"sogou/2.x": //sougou
	(browser = userAgent.match(/msie\s+([\d.]+)/))?"msie/"+browser[1]: //ie
	(browser = userAgent.match(/chrome\/([\d.]+)/))?"chrome/"+browser[1]: //chrome
	(browser = userAgent.match(/firefox\/([\d.]+)/))?"firefox/"+browser[1]: //firefox
	(browser = userAgent.match(/version\/([\d.]+)\s+safari\/([\d.]+)/))?"safari/"+browser[1]: //safari
	(browser = userAgent.match(/opera\/([\d.]+)([\w\W]+)version\/([\d.]+)/))?"opera/"+browser[3]: //opera
	"other browser";
	var browser4 = browser.substr(0,2);
//实现回到页面顶部  
function goTopEx(){  
	var obj=document.getElementById("goTopBtn"); 
	var obj2=document.getElementById("shangy"); 
	var obj3=document.getElementById("xiay");
	var obj4=document.getElementById("goBottom");  
	
	function getScrollTop(){  
		if(browser4=="ch"){
			//chrome
			//chrome63.0.3239.132对DTD XHTML 1.0不再支持body.scrollTop属性，只支持documentElement.scrollTop 
			return document.documentElement.scrollTop; 
		}else{
			//IE、firefox
			return document.documentElement.scrollTop;  
		}  
	}
	function setScrollTop(value){ 
		if(browser4=="ch"){ 
			//chrome
			document.documentElement.scrollTop=value; 
		}else{  
			//IE、firefox
			document.documentElement.scrollTop=value;  
		} 
	}     
	window.onscroll=function(){getScrollTop()>50?obj.style.display="":obj.style.display="none";
	getScrollTop()>100?obj2.style.display="":obj2.style.display="none";
	document.body.clientHeight-getScrollTop()>650?obj3.style.display="":obj3.style.display="none";
	document.body.clientHeight-getScrollTop()>650?obj4.style.display="":obj4.style.display="none";
	}  
	obj.onclick=function(){  
		var goTop=setInterval(scrollMove,10);  
		function scrollMove(){  
				setScrollTop(getScrollTop()/1.1);  
				if(getScrollTop()<1)clearInterval(goTop);  
		}  
	}  
}  
function downn(){
	if(browser4=="ch"){
		//chrome
		window.scrollBy(0,document.body.clientHeight);
	}else{
		//IE、firefox
		window.scrollBy(0,document.documentElement.clientHeight*1000); 
	}
}
</script>
<script>
function changePage(){ 
	var page = document.getElementById("container");
	page.style.background="black";
	page.style.color="white";
	page.style.fontSize="22px";
	page.style.fontFamily="MV boli";
}
document.write('<div style="position:fixed; right: 10px; top:20px; color:#eee;">背景颜色<br><select name=bcolor id=bcolor onchange="javascript:document.body.style.background=this.options[this.selectedIndex].value;"><option style="background-color: #ffffff" value="#ffffff">白色</option><option style="background-color: #f6f6f6" value="#f6f6f6">银灰</option><option style="background-color: #e4ebf1" value="#e4ebf1">淡蓝</option><option style="background-color: #e6f3ff" value="#e6f3ff">蓝色</option> <option style="background-color: #eeeeee" value="#eeeeee">淡灰</option><option style="background-color: #eaeaea" value="#eaeaea">灰色</option>  <option style="background-color: #e4e1d8" value="#e4e1d8">深灰</option><option style="background-color: #e6e6e6" value="#e6e6e6">暗灰</option><option style="background-color: #eefaee" value="#eefaee">绿色</option><option style="background-color: #ffffed" value="#ffffed">明黄</option><option style="background-color: #333333" value="#333333">黑色</option></select><br>字体颜色<br><select name=txtcolor id=txtcolor onchange="javascript:document.getElementById(\'container\').style.color=this.options[this.selectedIndex].value;"> <option value="#000000">黑色</option><option value="#ff0000" style="color:red;">红色</option><option value="#006600" style="color:green;">绿色</option><option value="#0000ff" style="color:blue;">蓝色</option><option value="#660000" style="color:#006600;">棕色</option><option value="#ffffff">白色</option></select><br>字体大小<br><select name=fontsize id=fonttype onchange="javascript:document.getElementById(\'container\').style.fontSize=this.options[this.selectedIndex].value;"> <option value="12px" >小号</option> <option value="14px" >较小</option> <option value="19px" >中号</option> <option value="19px" >默认</option><option value="22px" >较大</option><option value="25px" >大号</option><option value="35px" >35px</option><option value="45px" >45px</option><option value="55px" >55px</option><option value="65px" >65px</option><option value="75px" >75px</option><option value="85px" >85px</option><option value="95px" >95px</option></select>><br>字体类型<br><select name=fonttype id=fonttype onchange="javascript:document.getElementById(\'container\').style.fontFamily=this.options[this.selectedIndex].value;"> <option value="宋体" >宋体</option> <option value="MV boli" style="font-family:MV boli">MV boli</option> <option value="隶书" style="font-family:隶书">隶书</option> <option value="黑体" style="font-family:黑体">黑体</option><option value="楷体" style="font-family:楷体">楷体</option><option value="幼圆" style="font-family:幼圆">幼圆</option><option value="华文中宋" style="font-family:华文中宋">华文中宋</option><option value="华文行楷" style="font-family:华文行楷">华文行楷</option><option value="微软雅黑" style="font-family:微软雅黑">微软雅黑</option><option value="Arial" style="font-family:Arial">Arial</option><option value="Vrinda" style="font-family:Vrinda">Vrinda</option><option value="Tahoma" style="font-family:Tahoma">Tahoma</option><option value="Courier" style="font-family:Courier">Courier</option><option value="Times" style="font-family:Times">Times</option><option value="Georgia" style="font-family:Georgia">Georgia</option><option value="Lucida" style="font-family:Lucida">Lucida</option></select><br><a onClick="changePage()" target="_self" id="changepage">黑底白字</a></div>');   
</script>
<style type="text/css">
#tbrowser a:linked container a:visited{
	font-size:18px;
	text-decoration:none;
}
a:link{
	text-decoration:none;
	}
#container{
	font-size:1.2em;
	margin:auto;
	font-family:"宋体";
	width:65.29%;
	line-height:1.6em;
}
P{
	margin-top:16px;
	margin-bottom:16px;
	text-indent:2em;
}
.uls{
	color:#CC6666;
	font-weight:bold;
}
.uls>ol{
	list-style:none;
	font-weight:normal;
	list-style:lower-latin;
	color:#000000;
	line-height:1.3em;
}
h3{
	font-size:1.1em;
	font-weight:bold;
	text-indent:0em;
	color:#990000;
}
h4{
	font-size:1.0em;
	font-weight:bold;
	text-indent:0em;
}

#goTopBtn, #goBottom, #shangy, #xiay, #ftsize1, #ftsize2, #ftsize3{
	width: 18px;
    line-height: 1.2;
    padding: 5px 0;
    font-size: 12px;
    text-align: center;
    position: fixed;
	right: 10px;
    cursor: pointer;
    filter: Alpha(opacity=30);
	opacity=.3;
	font-weight:bold;
}
#goTopBtn, #goBottom, #ftsize1, #ftsize3  {
    background-color:#999;
    color:#000;
}
#shangy, #xiay, #ftsize2{
    background-color: #bbb;
    color: #000;
}
#ftsize1{
	bottom:240px;
}
#ftsize2{
	bottom:214px;
}
#ftsize3{
	bottom:188px;
}

#goTopBtn{
    bottom: 105px;
}
#goBottom {
    bottom: 30px;
}
#shangy {
    bottom: 80px;
}
#xiay {
    bottom: 55px;
}
#goTopBtn:hover, #goBottom:hover, #shangy:hover, #xiay:hover, #ftsize1:hover, #ftsize2:hover, #ftsize3:hover{
	background-color:#ccc;
	border:#ccc 0px solid;
}
#goTopBtn a:link, #goBottom a:link, #xiay a:link, #shangy a:link, #ftsize1 a:link, #ftsize2 a:link, #ftsize3 a:link {
	text-decoration: none;
	color:white;
}
img{
	margin-right:2em;
	text-indent:2em;
	border:0;
}
.picsay{
	color:#930;
	font-size:90%;
	line-height:110%;
	margin-top:-12px;
	padding:0;
}
.remark{
	color:#930;
	font-size:90%;
	line-height:140%;
	margin-top:-12px;
	text-indent:0em;
	padding:0;
}
.ref{
	color:#930;
	font-size:95%;
	line-height:150%;
	margin-top:-12px;
	text-indent:2em;
	padding:0;
}
pre{
	font-size:120%;
	line-height:130%;
	padding:0;
	//background-color:#f6f6f6;
	//background-color:#fff5ee;
	//background-color:#ffe;
	background-color:#eee;
	padding:8px;
	}
.code0, .code2, .code4{
	font-size:95%;
	line-height:110%;
	margin-top:-12px;
	padding:0;
	//background-color:#D9D1CA;
	//background-color:#f6f6f6;
	//background-color:#fff5ee;
	background-color:#ffe;
}
.code0{
	color:red;
	text-indent:0em;
}
.code2{
	color:#930;
	text-indent:2em;
}
.code4{
	color:blue;
	text-indent:4em;
}
sub,sup{
	font-size:80%;
	color:red;
}
</style>
</head>

<body>

<div id="container">





<h3>为什么用Java</h3>

<p>每当我告诉别人我一直在用Java工作时，大家的反应都是：“纳尼，为啥是Java？”</p>
<p></p>
<p>说实话，本人刚开始的时候也是同样的反应。但是由于Java的类型安全，执行性能和坚如磐石的工具，我渐渐地开始欣赏Java。同时我注意到，现在的Java已今非昔比 —— 它在过去的10年间稳健地改善着。</p>
<p></p>
<p></p>
<p>缘何是Java？</p>
<p></p>
<p>假设每天都用Java的想法还没有让君恶心到食不下咽，我在此重申Java已非你所了解的“吴下阿蒙”了。当Python, Ruby, 和Javascript在“动态类型语言革命”?（我自己造的名词）中大放异彩时，Java已经悄悄地借鉴了动态语言和函数式语言的很多吸引人的特性，同时保留了让Java和JVM晋级一流开发环境的先贤的努力成果。凭借大约9百万Java攻城狮的基层群体，Java仍然是世界上最受欢迎的编程语言。我们不能仅仅因为Java的语法有一点点繁琐，就抹杀掉它所有的历史和开发工作。但是流行不等同于正确。下面我们就来看看是什么让Java如此大放异彩。</p>
<p></p>
<p>Java虚拟机（JVM）</p>
<p></p>
<p>Java虚拟机(JVM) 已经诞生20年了。在此期间，它被部署在成千上万的系统上，历经了无数的漏洞修复和性能提升。JVM的优点有以下几个方面。首先，JVM完美支持日志和监控，这使你可以很方便地监控小到单个线程的性能指标。JVM有世界上最优化的垃圾回收器之一，你可以根据优化吞吐量等因素灵活选择垃圾回收算法。最后，Java承诺的“write once, run</p>
<p></p>
<p>anywhere”终于得已实现——你可以轻松地在任何架构上部署一个Java应用（大家还是承认applet从来没有过吧）。为什么用Scala和 Clojure这样新式语言的聪明人会选择JVM作为他们的执行环境呢？——因为JVM为你的代码提供了一个无出其右的分发环境。抛弃像JVM这样坚如磐石的工具是非常不合理的。</p>
<p></p>
<p>库的支持</p>
<p></p>
<p>如果你需要做点什么，很可能已经有非常好用且经过测试的Java库在等着你。Java库大部分都是成熟并用于实际生产开发的。Google, Amazon, LinkedIn, Twitter和很多Apache项目都很倚重于Java。如果你用了Java，你可以参考这些库和公司，从而借鉴伟大的程序员先驱们的工作。</p>
<p></p>
<p>类型安全</p>
<p></p>
<p>Java的类型系统，虽然有时很繁琐，但是这使得你可以写出“好用”的代码。不再有运行调试，它使你可以依靠编译器而不是单元测试——单元测试只在你知道bug在哪里的时候才有用。类型安全也使你轻松的代码重构。Java同时支持范型——Go语言的最大诟病之一。再者，Guava这样的库I以最小的样板和开销，标准化了创建类型安全的API的方法。Java编译器的改进也意味着你可以在享受类型安全的同时最小化范型所需的样板代码。</p>
<p></p>
<p>并发性</p>
<p></p>
<p>下面这条tweet总结了大多数动态语言的并行状态：</p>
<p></p>
<p></p>
<p>Most JS/Python/Ruby apps… http://pic.twitter.com/hkDkjdxpFH</p>
<p></p>
<p>— Reuben Bond (@reubenbond)</p>
<p></p>
<p>Java 却有着对多线程和并行的一流支持。对于Java 1.7，许并行的immutable数据结构令你轻松地在线程间共享数据。Akka库更进一步的提供了Erlang型的Actors来写并发和分布式的程序。我并不是在说Java比Go具有更好的并行支持，但是可以管理单个线程这一特性为Java应用提供了异步性能；而Python是做不到这点的。</p>
<p></p>
<p>用最新的Java来编程</p>
<p></p>
<p>现在你的心情可能已经从恶心变成好奇了，那么我们在2015年该如何写Java呢？从哪儿开始呢？首先，让我们回顾一些在Java 7和Java 8涌现的核心语言概念。</p>
<p></p>
<p>迭代</p>
<p></p>
<p>首先我们一起来看看迭代。下面是Java 8中的 for循环：</p>
<p></p>
<p>List<String> names = new LinkedList<>(); // compiler determines type of LinkedList</p>
<p></p>
<p>// ... add some names to the collection</p>
<p></p>
<p>names.forEach(name -> System.out.println(name));</p>
<p></p>
<p>或者是被大大简化的 for关键词？</p>
<p></p>
<p>for (String name : names)</p>
<p></p>
<p>System.out.println(name);</p>
<p></p>
<p>这2种循环结构都比你平时看到的for循环简洁的多。</p>
<p></p>
<p>Lambda函数</p>
<p></p>
<p>上面提到的第一个for循环引入了Lambda函数这个新概念。Lamda函数，语法记作->, 是Java语言的一项重大改革，并从函数式编程中引入了一些概念。</p>
<p></p>
<p>下面来看几个Java中Lambda函数的例子。</p>
<p></p>
<p>// Lambda Runnable</p>
<p></p>
<p>Runnable r2 = () -> System.out.println("Hello world two!");</p>
<p></p>
<p>// Lambda Sorting</p>
<p></p>
<p>Collections.sort(personList, (Person p1, Person p2) -> p1.getSurName().compareTo(p2.getSurName()))</p>
<p></p>
<p>// Lambda Listener</p>
<p></p>
<p>testButton.addActionListener(e -> System.out.println("Click Detected by Lambda Listener"));</p>
<p></p>
<p>这里无法详细展开Lambda函数这个话题——http://www.drdobbs.com/jvm/lambda-expressions-in-java-8/240166764文章提供了一个很好的切入点来更多地了解Lambda函数。</p>
<p></p>
<p>流</p>
<p></p>
<p>Java 8引入了流（stream）的概念，这为Java提供了很多现代函数式语言的特性。流是一种对集合上的一系列转换延迟执行的机制。比如我们来数一下以’A’开头的名字。首先想到的方法肯定是像下面这样：</p>
<p></p>
<p>List<String> names = new LinkedList<>();</p>
<p></p>
<p>// ... add some names to the collection</p>
<p></p>
<p>long count = 0;</p>
<p></p>
<p>for (String name : names) {</p>
<p></p>
<p>if (name.startsWith("A"))</p>
<p></p>
<p>++count;</p>
<p></p>
<p>}</p>
<p></p>
<p>如果用流，上述就可以简化为首先将集合转换成流，然后使用函数：</p>
<p></p>
<p>List<String> names = new LinkedList<>();</p>
<p></p>
<p>// ... add some names to the collection</p>
<p></p>
<p>long count = names.stream()</p>
<p></p>
<p>.filter(name -> name.startsWith("A"))</p>
<p></p>
<p>.count();</p>
<p></p>
<p>Java同时支持用parallelStream()来进行流的并行处理。并行流允许流水线业务在独立的线程同时执行，这不仅改进了语法，同时提高了性能。在大多数情况下，你可以简单得用parallelStream()替换stream()实现并行。</p>
<p></p>
<p>Try-With-Resources结构</p>
<p></p>
<p>在Java 6之前，打开一个文件然后读取内容需要通过try/finally来完成：</p>
<p></p>
<p>static String readFirstLineFromFileWithFinallyBlock(String path)</p>
<p></p>
<p>throws IOException {</p>
<p></p>
<p>BufferedReader br = new BufferedReader(new FileReader(path));</p>
<p></p>
<p>try {</p>
<p></p>
<p>return br.readLine();</p>
<p></p>
<p>} finally {</p>
<p></p>
<p>if (br != null) br.close();</p>
<p></p>
<p>}</p>
<p></p>
<p>}</p>
<p></p>
<p>但是readLine和close都有可能抛出异常。在这种情况下，readLine抛出的异常被忽略，我们事实上并不知道readLine执行失败。</p>
<p></p>
<p>Java 7引入了 Try-With-Resources结构来克服这种缺陷：</p>
<p></p>
<p>static String readFirstLineFromFile(String path) throws IOException {</p>
<p></p>
<p>try (BufferedReader br =</p>
<p></p>
<p>new BufferedReader(new FileReader(path))) {</p>
<p></p>
<p>return br.readLine();</p>
<p></p>
<p>}</p>
<p></p>
<p>}</p>
<p></p>
<p>上例中，无论在何种失败情况下，BufferedReader都会自动关闭文件流。你可以通过用逗号分隔的方式，用一个try语句来打开多个资源。</p>
<p></p>
<p>多重catch</p>
<p></p>
<p>以往Java只允许一个catch代码块对应一个异常，这造成如下的代码冗余：</p>
<p></p>
<p>catch (IOException ex) {</p>
<p></p>
<p>logger.log(ex);</p>
<p></p>
<p>throw ex;</p>
<p></p>
<p>catch (SQLException ex) {</p>
<p></p>
<p>logger.log(ex);</p>
<p></p>
<p>throw ex;</p>
<p></p>
<p>}</p>
<p></p>
<p>从Java 7开始，你可以在一个代码块内捕捉多个异常，从而减少了代码冗余：</p>
<p></p>
<p>catch (IOException|SQLException ex) {</p>
<p></p>
<p>logger.log(ex);</p>
<p></p>
<p>throw ex;</p>
<p></p>
<p>}</p>
<p></p>
<p>数值字面常量(Numeric Literals)</p>
<p></p>
<p>数值字面常量可以添加下划线是Java语言的新特性。这允许你使用_作为大数字的视觉分隔符。下面的例子不言自明：</p>
<p></p>
<p>int thousand = 1_000;</p>
<p></p>
<p>int million = 1_000_000;</p>
<p></p>
<p>使用Java</p>
<p></p>
<p>看到现代Java的语法如何简化并扩展了老Java之后，你可能已经摩拳擦掌跃跃欲试Java了。我整理了一下第三方的工具和库，这些可以用来帮助你们上手。</p>
<p></p>
<p>Maven</p>
<p></p>
<p>Maven是一个Java构建系统，相比于配置，它更重视规范。Maven定义了应用程序的结构，并提供了许多内置函数，比如运行测试，打包应用，部署你的库。使用Maven会显著降低管理Java项目的认知开销。 Maven</p>
<p></p>
<p>Central是Java世界中的PyPI，为已发布的Java库提供一站式服务。</p>
<p></p>
<p>核心函数</p>
<p></p>
<p>谷歌的Guava library提供了谷歌Java开发中所使用的核心函数。这包括应用于集合，缓存，基础数据类型，并发，字符串处理工作，I/O等的常见函数。Guava为如何设计好的的Java</p>
<p></p>
<p>API提供了绝佳的案例分析，提供最有效的从Java中推荐的最佳实践的具体例子一个很好的案例, Effective Java中推荐的最佳实践大部分都在Guava中得以体现。Guava被用于谷歌产品开发，进行了超过286,000个单元测试，可谓经受过实战测试的考验。</p>
<p></p>
<p>日期/时间函数</p>
<p></p>
<p>Joda-Time 已经成为Java实际上的标准日期/时间函数库。事实上，Java 8几乎一字不差地采用了Joda-Time规范。自此，我们建议使用java.time中的日期/时间函数代替Joda-Time。但是，如果你需要使用 Java 8之前的版本，Joda-Time提供了无与伦比的API。</p>
<p></p>
<p>分布式系统</p>
<p></p>
<p>Akka 提供类似Erlang型的Actor模型的抽象层来编写分布式系统。Akka可以从容应对许多种不同的故障，为编写可靠的分布式系统提供了更高层次的抽象。</p>
<p></p>
<p>Web应用程序</p>
<p></p>
<p>需要用Java写一个功能完善的Web应用程序？莫怕，有Play Framework罩着你。Play基于Akka的非阻塞I/O，提供了编写Web应用程序的可扩展的异步框架。如果想使用不那么前沿但是被广泛应用于产品的框架，请尝试Jetty。</p>
<p></p>
<p>单元测试</p>
<p></p>
<p>JUnit 仍为编写单元测试的标准。最近几年，JUnit的匹配器有所扩展，允许你对集合作assertions。例如，您可以轻松地断言一个链表是否包含某个特殊值。</p>
<p></p>
<p>模拟框架(Mocking Framework)</p>
<p></p>
<p>Mockito是Java的标准模拟库。它提供了所有你能想到的且对编写测试非常重要的模拟库的功能。</p>
<p></p>
<p>然而不足的是。。。</p>
<p></p>
<p>目前为止，我一直在为Java说好话，但是有些方面它还是很烂。</p>
<p></p>
<p>它还是Java！</p>
<p></p>
<p>Java的历史遗留不可避免，Java仍然向下兼容其最早的版本，这意味着语言和标准库的最烂的部分还存在着。Guava是为了令Java语言更讨人喜欢而产生这个事实就证明了，Java和API存在不一致，令人困惑的问题，有时甚至是完全错误的。</p>
<p></p>
<p>JSON</p>
<p></p>
<p>Java缺少映射到JSON的object literal syntax（如Python的字典literal syntax）。正因如此，从Java对象映射到JSON有时需要繁复的对象实例化和映射，反之亦然。目前有各种JSON库在这个领域竞争，Jackson是当前的最受欢迎的，但是Jackson的文档需要进一步完善。</p>
<p></p>
<p>模拟（Mocking）</p>
<p></p>
<p>Mockito解决了测试Java代码中的很多痛点，但是从像Python语言的灵活转换到Java语言的严格，你需要更谨慎地来设计你的类用于模拟。</p>
<p></p>
<p>REPL</p>
<p></p>
<p>我之所以喜欢Python，其中一点就是它可以迅速地实现读取﹣求值﹣输出循环（ read-eval-print loop），从而快速评估新的想法或检验假设。虽然一直有声音说要把读取﹣求值﹣输出循环添加到标准Java库，这一点目前还是不支持的。</p>
<p></p>
<p>语法累赘</p>
<p></p>
<p>虽然Java编译器的进步意味着明确的类型签名不再那么需要——尤其对于泛型——但是Java仍然比Python冗余的多。启动和运行一个项目需要更多的样板和开销——通常这意味更多的工作。</p>


<p style='float:right;'>本页共244段，7415个字符，13235 Byte(字节)</p>﻿




</div>


<div>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.4em";' target="_self" style="color:#fff;" title="大：1.4em"><div id="ftsize1" style="color:#fff;">大</div></a>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.2em";' target="_self" style="color:#fff;" title="中：1.2em"><div id="ftsize2" style="color:#fff;">中</div></a>
<a id="ftsizea" onclick='document.getElementById("container").style.fontSize = "1.0em";' target="_self" style="color:#fff;" title="小：1em"><div id="ftsize3" style="color:#fff;">小</div></a>

<a target="_self" style="color:#fff;"><div style="display:none; color:#fff;" id="goTopBtn">&and;</div></a>
<a onclick="shangy()" target="_self" style="color:#fff;"><div style="display:none; color:#fff;" id="shangy">&uarr;</div></a>
<a onclick="xiay()" target="_self" style="color:#fff;"><div id="xiay" style="color:#fff;">&darr;</div></a>
<a onclick="downn()" target="_self" style="color:#fff;"><div id="goBottom" style="color:#fff;">&or;</div></a>
<script type=text/javascript>
	goTopEx();
	function xiay(){
		window.scrollBy(0,window.innerHeight-10);
	}
	function shangy(){
		window.scrollBy(0,-window.innerHeight+10);
	}
	var obj3=document.getElementById("xiay");
	var obj4=document.getElementById("goBottom");
	function getHeight(){  
		if(browser4=="ch"){
			//谷歌浏览器
			return document.body.clientHeight; 
		}else{
			//IE、firefox等浏览器 
			return document.documentElement.clientHeight;  
		}  
	}
	getHeight()<window.innerHeight+50?obj3.style.display="none":obj3.style.display="";
	getHeight()<window.innerHeight+50?obj4.style.display="none":obj4.style.display="";
	if(browser4!="ch"){	//firefox需要尝一下才显示向下图标
		xiay();
		shangy();
	}
</script>
</div>

</body>
</html>
